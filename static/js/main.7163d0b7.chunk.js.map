{"version":3,"sources":["graph-builder/graph-actions.js","graph-builder/graph-core/3-component.js","graph-builder/graph-core/1-core.js","graph-builder/graph-core/2-canvas.js","graph-builder/local-storage-manager.js","component/ZoomSetter.jsx","graph-builder/graphml/parser/PropFromArr.js","graph-builder/graphml/parser/parseProperties.js","graph-builder/graphml/parser/index.js","toolbarActions/toolbarFunctions.js","component/TabBar.jsx","graph-builder/graphml/builder/nodeML.js","graph-builder/graphml/builder/graphML.js","graph-builder/graphml/builder/edgeML.js","graph-builder/graphml/builder/index.js","graph-builder/graph-core/4-undo-redo.js","graph-builder/graph-core/5-load-save.js","graph-builder/graph-core/6-server.js","graph-builder/graph-core/index.js","graph-builder/calculations/boundary-point.js","graph-builder/tailored-graph-builder.js","graph-builder/index.js","GraphArea.jsx","config/defaultValidators.js","GraphWorkspace.jsx","component/modals/ParentModal.jsx","component/modals/GraphCompDetails.jsx","toolbarActions/toolbarList.js","component/HeaderComps.jsx","component/Header.jsx","component/modals/ProjectDetails.jsx","component/modals/ShareModal.jsx","component/CodeEdit.jsx","component/modals/Settings.jsx","component/File-drag-drop.jsx","component/modals/History.jsx","component/fileBrowser.jsx","component/modals/FileEdit.jsx","component/modals/markDown.jsx","component/modals/OptionsModal.jsx","component/Logs.jsx","component/modals/ContributeDetails.jsx","App.jsx","serviceWorkerRegistration.js","reportWebVitals.js","index.jsx","graph-builder/calculations/bending-dist-weight.js","reducer/actionType.js","component/modals/NodeDetails.jsx","component/modals/EdgeDetails.jsx","config/defaultStyles.js","reducer/initialState.js","reducer/reducer.js","config/cytoscape-options.js","config/cytoscape-style.js"],"names":["ADD_NODE","ADD_EDGE","UPDATE_NODE","UPDATE_EDGE","UPDATE_DATA","DEL_NODE","DEL_EDGE","SET_POS","SET_DIM","SET_BENDW","GraphComponent","GraphCanvas","constructor","_len","arguments","length","args","Array","_key","super","nodeValidator","edgeValidator","this","setEdgeNodeValidator","getTid","Date","getTime","getPos","allNodes","cy","$","start","x","y","found","i","nodePos","position","addNode","label","style","type","undefined","data","id","tid","node","add","group","addAction","actionName","GA","parameters","getEdgesBetweenNodes","sourceID","targetID","getById","edgesWith","getBendingD","edges","dists","Set","forEach","edge","target","bendDistance","d","has","parseBendinDW","_ref","bendWeight","bendPoint","w","BendingDistanceWeight","getWeightDistance","addEdgeWithLabel","edgeData","bendData","source","addEdge","dispatcher","T","Model_Open_Create_Edge","cb","edgeLabel","edgeStyle","message","validiateEdge","ok","getStyle","getLabel","updateNode","shouldUpdateLabel","updateEdge","updateData","key","val","deleteNode","connectedEdges","deleteEdge","json","remove","removed","jsonEd","deleteElem","isNode","setPos","pos","emit","setDim","dim","height","width","getNodeValidator","a","b","toString","indexOf","lastIndexOf","slice","trim","getEdgeValidator","_ref2","eval","getNodesEdges","map","sourceLabel","getRealSourceId","targetLabel","validiateComp","comp","validator","nodes","err","e","validiateNode","CoreGraph","element","superState","projectName","authorName","cytoscape","use","edgehandles","nodeEditing","Konva","gridGuide","cyOptions","container","bendNode","classes","registerEvents","initizialize","resizeToContentCueEnabled","setWidth","setHeight","isNoResizeMode","isNoControlsMode","snapToGridOnRelease","zoomDash","panGrid","preview","handlePosition","handleNodes","complete","c","getElementById","getLabelFromID","set","setProjectName","shouldEmit","SET_PROJECT_DETAILS","payload","value","graphID","setProjectAuthor","SET_AUTHOR","setServerID","serverID","selectDeselectEventHandler","els","ELE_UNSELECTED","every","isEdge","ids","ELE_SELECTED","on","scratch","removeListener","addClass","evt","ev","el","hasClass","getBendEdgePoint","DW","addBendChange","removeClass","setBendWightDist","parseFloat","getCoordinate","setCurStatus","reset","resetAllComp","resetAllAction","Core","resetZoom","center","SET_ZOOM_LEVEL","getZoom","setOnZoom","setZoomUI","Math","round","zoom","fitZoom","fit","setZoom","v","clearAll","elements","window","confirm","CHANGE_RESET","localStorageManager","ALL_GRAPHS","btoa","AUTHOR_NAME","allgs","localStorage","getItem","setItem","JSON","stringify","parse","atob","saveAllgs","from","addEmptyIfNot","get","save","graphContent","addGraph","serializedJson","delete","removeItem","getAllGraphs","addToFront","Garr","unshift","getAuthorName","setAuthorName","clearGraph","getFileList","minZoom","maxZoom","GraphOption","marks","ZoomComp","myGraph","curGraphInstance","_jsx","_Fragment","zoomValue","zoomLevel","children","_jsxs","className","role","tabIndex","onClick","onKeyDown","BiReset","BiRectangle","Slider","min","max","onChange","included","PropFromArr","obj","arr","flatenArr","flatArr","o","push","G","p","filter","S","any","Object","keys","parseProps","s","t","propFromArr","split","property","A","F","mapByDefault","def","includes","parseNode","opacity","parseInt","shape","backgroundColor","borderColor","borderWidth","parseEdge","thickness","parseActionML","parser","graphMlCnt","Promise","resolve","xml2js","Parser","parseString","grahMLObj","grahML","parseDetails","actionHistory","equivalent","inverse","parseActionHistory","getGraphFun","createNode","state","setState","Model_Open_Create_Node","editElement","eleSelectedPayload","Model_Open_Update_Node","retMessage","labelAllowed","Model_Open_Update_Edge","downloadImg","format","async","saveGraphMLFile","graph","graphs","curGraphIndex","fileHandle","stream","createWritable","write","saveToFolder","close","toast","success","info","saveWithoutFileHandle","readFile","file","fr","FileReader","name","pop","onload","result","then","ADD_GRAPH","graphML","fileName","readAsText","getFile","readTextFile","EDIT_TEXTFILE","show","fileObj","createFile","newProject","NEW_GRAPH","contribute","SET_CONTRIBUTE_MODAL","resetAfterClear","toggleLogs","SET_LOGS","logs","undo","redo","viewHistory","SET_HISTORY_MODAL","TabBar","closeTab","stopPropagation","REMOVE_GRAPH","SET_CUR_INSTANCE","SET_CUR_INDEX","editCur","SET_EDIT_DETAILS_MODAL","React","useEffect","hotkeys","event","preventDefault","document","click","querySelector","bind","MdAdd","size","CHANGE_TAB","MdEdit","MdClose","ReactTooltip","place","effect","nodeML","posX","posY","color","graphml","xmlns","for","edgedefault","edgeML","lineColor","lineWidth","configuration","sx","sy","tx","ty","builder","edg","X","Builder","buildObject","GraphUndoRedo","_this","methodsMapped","_len2","_key2","_len3","_key3","_len4","_key4","_len5","_key5","_len6","_key6","_len7","_key7","_len8","_key8","_len9","_key9","actionArr","curActionIndex","informUI","SET_UNDO","SET_REDO","performAction","action","addPositionChange","prevPos","curPos","addDimensionChange","prevDim","curDim","prevDW","curDW","sequencify","r","sort","k","splice","actionIdentity","hash","md5","at","undoSingleAction","redoSingleAction","curTid","limit","GraphLoadSave","autoSaveIntervalId","saveLocalStorage","saveAs","png","full","getName","jpg","shouldNodeBeSaved","nodeID","shouldEdgeBeSaved","edgeID","stringifyAction","parseAction","jsonifyGraph","all","nodeJson","edgeJson","_ref3","saveToDisk","str","graphmlBuilder","bytes","TextEncoder","encode","blob","Blob","navigator","userAgent","options","types","description","accept","handle","showSaveFilePicker","fileData","fS","fileState","concat","uploadedDirName","modified","lastModified","SET_FILE_STATE","prompt","match","SET_FILE_HANDLE","getGraphML","loadJson","content","_ref4","clearTimeout","setTimeout","setGraphML","graphMLParser","graphObject","loadGraphFromLocalStorage","resetLocalStorage","serializeGraph","GraphServer","config","IS_WORKFLOW_ON_SERVER","Boolean","build","toastId","autoClose","Axios","post","unlockCheck","dockerCheck","maxTime","params","octave","res","SET_FUNCTIONS","built","ran","debugged","cleared","stopped","destroyed","SET_LOGS_MESSAGE","logsmessage","output","dismiss","catch","error","debug","run","clear","stop","destroy","library","boundaryPoint","getEq","P1","P2","m","getX1X2","Cn","P","h","B","D","getY1Y2","C","x1","x2","dist","getClosestEllipse","y1","y2","d1","d2","slope","setSubQ","S1","S2","getClosestRect","abs","Infinity","TailoredGraph","connectedNodes","juncNode","calJuncNodePos","parNode","incomers","meanNbrPosition","setOfPos","outgoers","posStr","getBoundaryPoint","getRealNode","juncNodeId","addAutoMove","unselectify","addEdgeWithJuncNode","ed","addEdgeWithoutJuncNode","sourceNode","targetNode","sourceNodeStyle","juncNodePos","ungrabify","addEdgeAction","tidd","juncNodes","junctionNode","n1","n2","c1","c2","n","union","values","TailoredGraphBuilder","Graph","graphContainerRef","active","instance","setInstance","useState","ref","useRef","setContainerDim","elToAss","current","offsetWidth","offsetHeight","addEventListener","initialiseNewGraph","MyGraph","forcePullFromServer","zIndex","display","GraphComp","props","allSavedGs","ADD_GRAPH_BULK","flex","flexDirection","background","ReactModal","setAppElement","Modal","closeModal","ModelOpen","title","curClass","setCurClass","isOpen","setIsOpen","stid","setStid","contentLabel","overlayClassName","ModalComp","setData","errorMessage","setErrorMessage","setElement","editSourceClicked","setEditSourceClicked","createSourceClicked","setCreateSourceClicked","createHelpClicked","setCreateHelpClicked","modalPayload","submitText","Children","defaultStyle","defaultLabel","submit","ParentModal","onSubmit","openFile","fname","ele","SET_MARKDOWN_MODAL","docname1","matchingElement","find","SET_INPUT_FILE","openDoc","docname2","toolbarList","text","icon","FaPlus","visibility","hotkey","FaPencilAlt","FaFileImport","FaSave","saveAction","FaThermometerEmpty","resetEnabled","FaTrashRestore","FaUndo","undoEnabled","FaRedo","redoEnabled","FaEdit","eleSelected","FaTrash","FaHistory","FaTerminal","isWorkflowOnServer","FaToggleOn","FiToggleLeft","toggleServer","FaCogs","SET_OPTIONS_MODAL","FaHammer","FaBug","FiPlay","FaRegTimesCircle","FiStopCircle","FaBomb","FiTriangle","FaDownload","fn","DropDown","Icon","Menu","menuButton","MenuButton","ActionButton","MenuItem","FileUploader","fileRef","Switcher","Switch","checked","_ref5","fontSize","Vsep","Hsep","Space","Header","actions","replace","substring","handler","shortcut","setHotKeys","ProjectDetails","curGraph","inputRef","useCallback","focus","newGraphModal","editDetailsModal","authorNameE","openExisting","NewWorkflow","SET_NEW_GRAPH_MODAL","placeholder","required","ShareModal","serializedGraph","setSerializedGraph","copyText","setCopyText","cond","shareModal","link","location","protocol","host","pathname","SET_SHARE_MODAL","readOnly","copy","clipboard","writeText","getElementsByClassName","select","CodeEdit","pre","docString","createRef","spellCheck","SettingsModal","setNodeValidator","setEdgeValidator","settingsModal","SET_SETTING_MODAL","app","SET_FILE_REF","getElementsByTagName","cc","classList","dragEvent","dataTransfer","files","HistoryModal","curState","setcurState","historyList","setHistoryList","historyView","setHistoryView","filterAction","setFilterAction","mapActionToTrue","reverse","stringifyActionType","prefixTid","index","DT","date","toLocaleDateString","time","toLocaleTimeString","tempCurState","restoreState","fontWeight","par","htmlFor","listStyleType","LocalFileBrowser","dirButton","setDirButton","setFileState","handleFileInDirs","topKey","topLevel","valueSubDir","entries","kind","filesArray","webkitRelativePath","webkitdirectory","disabled","dirHandle","showDirectoryPicker","SET_DIR_NAME","showOpenFilePicker","excludeAcceptAllOption","multiple","FileBrowser","onSelectFile","alert","foundi","g","detailRenderer","fileRenderer","FileRenderers","TableFile","folderRenderer","FolderRenderers","TableFolder","FileEditModal","codeStuff","setCodeStuff","setFileName","language","setLanguage","newFileName","setNewFileName","showFilenameModal","setShowFilenameModal","loadFile","fileEx","hpp","cpp","py","sh","textFileModal","Editor","theme","inlineSuggest","formatOnType","autoClosingBrackets","minimap","enabled","warn","onRequestClose","ariaHideApp","MarkDown","inputFile","markDownModal","inputFileName","ReactMarkdown","OptionsModal","unlock","setUnlock","docker","setDocker","setOctave","param","setParam","maxT","setmaxT","setLibrary","SET_OPTIONS","optionsModal","handleDockerChange","handleOctaveChange","handleUnlockChange","handleMaxtimeChange","handleLibraryChange","cols","rows","handleParamsChange","Logs","setOutput","clearTerminal","closeTerminal","line","ContributeDetails","study","setStudy","path","setPath","auth","setAuth","setTitle","desc","setDesc","branch","setBranch","showAdvanceOptions","setShowAdvanceOptions","contributeModal","toggleOptions","loading","_result$data","axios","_error$response","_error$response2","_error$response2$data","response","status","useReducer","reducer","initialState","onbeforeunload","returnValue","GraphCompDetails","Model_Close","FileDragDrop","overflow","GraphWorkspace","ToastContainer","pauseOnHover","hostname","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","App","serviceWorker","ready","registration","unregister","console","rotate","Q","cos","sin","extraRad","PI","getRadian","tanQ","atan","zealit","require","$$typeof","TURN_DRAW","SET_ZOOM","ADD_GRAPH_INSTANCE","NodeDetails","textRef","widthSet","mdList","setMdList","mdCont","setMdCont","Map","labelName","setLabelName","labelFile","setLabelFile","indexOfFile","list","mdmap","prop","borderRadius","padding","lname","item","some","matchingFile","Triangle","EqTriangle","borderLeft","borderBottom","borderTop","marginLeft","EdgeDetails","borderBottomWidth","borderBottomColor","borderBottomStyle","NodeStyle","EdgeStyle","drawModeOn","initialGraphState","component","newState","selector","overlayOpacity","textValign","textHalign","curveStyle","targetArrowShape","targetArrowColor","segmentDistances","segmentWeights","edgeDistances","lineStyle","edgeTextRotation","textBackgroundOpacity","textBackgroundColor","textBackgroundShape","textBorderColor","textBorderWidth","textBorderOpacity","borderOpacity","overlayColor","overlayPadding","zoomingEnabled","userZoomingEnabled"],"mappings":"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","file":"static/js/main.7163d0b7.chunk.js","sourcesContent":["export default {\n    ADD_NODE: 'ADD_NODE',\n    ADD_EDGE: 'ADD_EDGE',\n    UPDATE_NODE: 'UPDATE_NODE',\n    UPDATE_EDGE: 'UPDATE_EDGE',\n    UPDATE_DATA: 'UPDATE_DATA',\n    DEL_NODE: 'DEL_NODE',\n    DEL_EDGE: 'DEL_EDGE',\n    SET_POS: 'SET_POS',\n    SET_DIM: 'SET_DIM',\n    SET_BENDW: 'SET_BENDW',\n};\n","import BendingDistanceWeight from '../calculations/bending-dist-weight';\nimport GA from '../graph-actions';\nimport { actionType as T } from '../../reducer';\nimport GraphCanvas from './2-canvas';\n\nclass GraphComponent extends GraphCanvas {\n    getTid;\n\n    nodeValidator;\n\n    edgeValidator;\n\n    addAction;\n\n    getRealSourceId;\n\n    constructor(...args) {\n        super(...args);\n        const [,,,,, nodeValidator, edgeValidator] = args;\n        this.setEdgeNodeValidator({ nodeValidator, edgeValidator });\n        this.getTid = () => new Date().getTime();\n    }\n\n    getPos() {\n        const allNodes = this.cy.$('node');\n        const start = { x: 100, y: 100 };\n        let found = true;\n        while (found) {\n            found = false;\n            for (let i = 0; i < allNodes.length; i += 1) {\n                const nodePos = allNodes[i].position();\n                found = found || (nodePos.x === start.x && nodePos.y === start.y);\n            }\n            if (found) {\n                start.x += 10;\n                start.y += 10;\n            }\n        }\n        return start;\n    }\n\n    addNode(label, style, type = 'ordin', position = this.getPos(),\n        data = {}, id, tid = this.getTid()) {\n        const node = this.cy.add({\n            group: 'nodes',\n            data: {\n                ...data, id, label, type, style,\n            },\n            position,\n        });\n        this.addAction(\n            { actionName: GA.DEL_NODE, parameters: [node.id()] },\n            {\n                actionName: GA.ADD_NODE,\n                parameters: [label, style, type, position, data, node.id()],\n            },\n            tid,\n        );\n        return node;\n    }\n\n    getEdgesBetweenNodes(sourceID, targetID) {\n        return this.getById(sourceID).edgesWith(this.getById(targetID));\n    }\n\n    getBendingD(sourceID, targetID) {\n        const edges = this.getEdgesBetweenNodes(sourceID, targetID);\n        const dists = new Set();\n        edges.forEach((edge) => {\n            if (targetID === edge.target().id()) dists.add(edge.data('bendData').bendDistance);\n            else dists.add(-edge.data('bendData').bendDistance);\n        });\n        for (let d = 0; ;d += 20) {\n            if (!dists.has(d)) return d;\n            if (!dists.has(-d)) return -d;\n        }\n    }\n\n    parseBendinDW({\n        sourceID, targetID, type, bendWeight, bendDistance, bendPoint,\n    }) {\n        if (type !== 'ordin') return { bendDistance: 0, bendWeight: 0 };\n        if (bendDistance && bendWeight) return { bendDistance, bendWeight };\n        if (bendPoint) {\n            const { x, y } = bendPoint;\n            const { d, w } = BendingDistanceWeight.getWeightDistance(\n                { x, y }, this.getById(sourceID).position(), this.getById(targetID).position(),\n            );\n            return { bendDistance: d, bendWeight: w };\n        }\n        return { bendDistance: this.getBendingD(sourceID, targetID), bendWeight: 0.5 };\n    }\n\n    addEdgeWithLabel(edgeData, tid = this.getTid()) {\n        const { type = 'ordin' } = edgeData;\n        const bendData = this.parseBendinDW({ ...edgeData, ...edgeData.bendData });\n        const edge = this.cy.add({\n            group: 'edges',\n            data: {\n                ...edgeData, source: edgeData.sourceID, target: edgeData.targetID, type, bendData,\n            },\n        });\n        this.addAction(\n            { actionName: GA.DEL_EDGE, parameters: [edge.id()] },\n            { actionName: GA.ADD_EDGE, parameters: [{ ...edgeData, id: edge.id() }] },\n            tid,\n        );\n\n        return edge;\n    }\n\n    addEdge(edgeData, tid = this.getTid()) {\n        if ((edgeData.type && edgeData.type !== 'ordin') || edgeData.label) {\n            return this.addEdgeWithLabel({ ...edgeData, type: edgeData.type || 'ordin' }, tid);\n        }\n        this.dispatcher({\n            type: T.Model_Open_Create_Edge,\n            cb: (edgeLabel, edgeStyle) => {\n                const message = this.validiateEdge(edgeLabel, edgeStyle,\n                    edgeData.targetID, edgeData.targetID, null, 'New');\n                if (message.ok) this.addEdgeWithLabel({ ...edgeData, type: edgeData.type || 'ordin' }, tid);\n                return message;\n            },\n        });\n        return undefined;\n    }\n\n    getStyle(id) {\n        return this.getById(id).data('style');\n    }\n\n    getLabel(id) {\n        return this.getById(id).data('label') || this.getById(id).data('label');\n    }\n\n    updateNode(id, style, label, shouldUpdateLabel, tid = this.getTid()) {\n        this.addAction(\n            {\n                actionName: GA.UPDATE_NODE,\n                parameters: [id, this.getStyle(id), this.getById(id).data('label'), shouldUpdateLabel],\n            },\n            { actionName: GA.UPDATE_NODE, parameters: [id, style, label, shouldUpdateLabel] },\n            tid,\n        );\n        if (shouldUpdateLabel) this.getById(id).data('label', label);\n        this.getById(id).data('style', style);\n    }\n\n    updateEdge(id, style, label, shouldUpdateLabel, tid = this.getTid()) {\n        this.addAction(\n            {\n                actionName: GA.UPDATE_EDGE,\n                parameters: [id, this.getStyle(id), this.getById(id).data('label'), shouldUpdateLabel],\n            },\n            { actionName: GA.UPDATE_EDGE, parameters: [id, style, label, shouldUpdateLabel] },\n            tid,\n        );\n        if (shouldUpdateLabel) this.getById(id).data('label', label);\n        this.getById(id).data('style', style);\n    }\n\n    updateData(id, key, val, tid = this.getTid()) {\n        this.addAction(\n            { actionName: GA.UPDATE_DATA, parameters: [id, key, this.getById(id).data(key)] },\n            { actionName: GA.UPDATE_DATA, parameters: [id, key, val] }, tid,\n        );\n        this.getById(id).data(key, val);\n        return this;\n    }\n\n    deleteNode(id, tid = this.getTid()) {\n        const node = this.getById(id);\n        node.connectedEdges('[type=\"ordin\"]').forEach((edge) => this.deleteEdge(edge.id(), tid));\n        node.connectedEdges().forEach((edge) => this.deleteEdge(edge.id(), tid));\n        this.addAction(\n            {\n                actionName: GA.ADD_NODE,\n                parameters: [\n                    node.data('label'), this.getStyle(node.id()), node.data('type'),\n                    node.position(), node.json().data, id,\n                ],\n            },\n            { actionName: GA.DEL_NODE, parameters: [id] }, tid,\n        );\n        node.remove();\n    }\n\n    deleteEdge(id, tid = this.getTid()) {\n        if (this.getById(id).length === 0 || this.getById(id).removed()) return;\n        const jsonEd = this.getById(id).json();\n        this.addAction(\n            {\n                actionName: GA.ADD_EDGE,\n                parameters: [{\n                    ...jsonEd.data, sourceID: jsonEd.data.source, targetID: jsonEd.data.target,\n                }],\n            },\n            { actionName: GA.DEL_EDGE, parameters: [id] }, tid,\n        );\n        this.getById(id).remove();\n    }\n\n    deleteElem(id, tid = this.getTid()) {\n        if (this.getById(id).isNode()) return this.deleteNode(id, tid);\n        return this.deleteEdge(id, tid);\n    }\n\n    setPos(id, pos) {\n        this.getById(id).position(pos);\n        this.getById(id).emit('moved');\n    }\n\n    setDim(id, dim, pos) {\n        const style = this.getById(id).data('style');\n        this.getById(id).data('style', { ...style, height: dim.height, width: dim.width });\n        this.setPos(id, pos);\n    }\n\n    getNodeValidator() {\n        const [a, b] = [this.nodeValidator.toString().indexOf('{'), this.nodeValidator.toString().lastIndexOf('}')];\n        return this.nodeValidator.toString().slice(a + 1, b).trim();\n    }\n\n    getEdgeValidator() {\n        const [a, b] = [this.edgeValidator.toString().indexOf('{'), this.edgeValidator.toString().lastIndexOf('}')];\n        return this.edgeValidator.toString().slice(a + 1, b).trim();\n    }\n\n    setEdgeNodeValidator({ nodeValidator, edgeValidator }) {\n        // eslint-disable-next-line no-eval\n        this.nodeValidator = eval(nodeValidator);\n        // eslint-disable-next-line no-eval\n        this.edgeValidator = eval(edgeValidator);\n    }\n\n    getNodesEdges() {\n        const nodes = this.cy.$('node[type=\"ordin\"]').map((node) => ({\n            label: node.data('label'),\n            style: node.data('style'),\n            id: node.data('id'),\n        }));\n        const edges = this.cy.$('edge[type=\"ordin\"]').map((edge) => ({\n            label: edge.data('label'),\n            sourceLabel: this.getById(this.getRealSourceId(edge.source().id())).data('label'),\n            targetLabel: edge.target().data('label'),\n            style: edge.data('style'),\n            id: edge.data('id'),\n        }));\n        return [nodes, edges];\n    }\n\n    validiateComp(comp, validator, type) {\n        const [nodes, edges] = this.getNodesEdges();\n        try {\n            const message = validator(comp, nodes, edges, type);\n            if (message && message.ok !== undefined && message.err !== undefined) return message;\n            return { ok: false, err: 'Invalid return format from the defined validator.' };\n        } catch (e) {\n            return { ok: false, err: `Error raised at validator: ${e.message}` };\n        }\n    }\n\n    validiateNode(label, style, id, type) {\n        if (id) {\n            const node = this.getById(id);\n            return this.validiateComp({\n                label: label || node.data('label'),\n                style: style || node.data('style'),\n                id,\n            }, this.nodeValidator, type);\n        }\n        return this.validiateComp({ label, style, id }, this.nodeValidator, type);\n    }\n\n    validiateEdge(label, style, sourceID, targetID, id, type) {\n        if (id) {\n            const edge = this.getById(id);\n            return this.validiateComp({\n                label: label || edge.data('label'),\n                style: style || edge.data('style'),\n                sourceLabel: this.getById(this.getRealSourceId(edge.source().id())).data('label'),\n                targetLabel: edge.target().data('label'),\n                id,\n            }, this.edgeValidator, type);\n        }\n        return this.validiateComp({\n            label,\n            style,\n            sourceLabel: this.getById(this.getRealSourceId(sourceID)).data('label'),\n            targetLabel: this.getById(targetID).data('label'),\n            id,\n        }, this.edgeValidator, type);\n    }\n}\n\nexport default GraphComponent;\n","import cytoscape from 'cytoscape';\nimport edgehandles from 'cytoscape-edgehandles';\nimport gridGuide from 'cytoscape-grid-guide';\nimport Konva from 'konva';\nimport nodeEditing from 'cytoscape-node-editing';\nimport $ from 'jquery';\nimport cyOptions from '../../config/cytoscape-options';\nimport BendingDistanceWeight from '../calculations/bending-dist-weight';\nimport { actionType as T } from '../../reducer';\n\nclass CoreGraph {\n    dispatcher;\n\n    superState;\n\n    id;\n\n    projectName;\n\n    authorName;\n\n    cy;\n\n    bendNode;\n\n    constructor(id, element, dispatcher, superState, projectName, nodeValidator, edgeValidator, authorName) {\n        if (dispatcher) this.dispatcher = dispatcher;\n        if (superState) this.superState = superState;\n        if (typeof cytoscape('core', 'edgehandles') !== 'function') {\n            cytoscape.use(edgehandles);\n        }\n        if (typeof cytoscape('core', 'nodeEditing') !== 'function') {\n            nodeEditing(cytoscape, $, Konva);\n        }\n        if (typeof cytoscape('core', 'gridGuide') !== 'function') {\n            gridGuide(cytoscape);\n        }\n        // if (cy) this.cy = cy;\n        this.cy = cytoscape({ ...cyOptions, container: element });\n        this.id = id;\n        this.projectName = projectName;\n        this.authorName = authorName;\n        this.cy.emit('graph-modified');\n        this.bendNode = this.cy.add(\n            { group: 'nodes', data: { type: 'bend' }, classes: ['hidden'] },\n        );\n        this.registerEvents();\n        this.cy.emit('graph-modified');\n        this.initizialize();\n    }\n\n    initizialize() {\n        this.cy.nodeEditing({\n            resizeToContentCueEnabled: () => false,\n            setWidth(node, width) {\n                node.data('style', { ...node.data('style'), width });\n            },\n            setHeight(node, height) {\n                node.data('style', { ...node.data('style'), height });\n            },\n            isNoResizeMode(node) { return node.data('type') !== 'ordin'; },\n            isNoControlsMode(node) { return node.data('type') !== 'ordin'; },\n        });\n\n        this.cy.gridGuide({\n            snapToGridOnRelease: false,\n            zoomDash: true,\n            panGrid: true,\n        });\n        this.cy.edgehandles({\n            preview: false,\n            handlePosition() {\n                return 'none';\n            },\n            handleNodes: 'node[type = \"ordin\"],node[type = \"special\"]',\n            complete: (a, b, c) => { c.remove(); this.addEdge({ sourceID: a.id(), targetID: b.id() }); },\n        });\n    }\n\n    getById(x) {\n        return this.cy.getElementById(x);\n    }\n\n    getLabelFromID(x) {\n        return this.getById(x).data('label') || '**Deleted El**';\n    }\n\n    set({\n        cy, dispatcher, superState, projectName, authorName,\n    }) {\n        if (dispatcher) this.dispatcher = dispatcher;\n        if (superState) this.superState = superState;\n        if (cy) this.cy = cy;\n        if (projectName) this.projectName = projectName;\n        if (authorName) this.authorName = authorName;\n    }\n\n    setProjectName(projectName, shouldEmit = true) {\n        this.projectName = projectName;\n        if (shouldEmit) {\n            this.dispatcher({\n                type: T.SET_PROJECT_DETAILS,\n                payload: {\n                    value: projectName,\n                    graphID: this.id,\n                    type: 'projectName',\n                },\n            });\n        }\n        this.cy.emit('graph-modified');\n    }\n\n    setProjectAuthor(authorName, shouldEmit = true) {\n        this.authorName = authorName;\n        if (shouldEmit) {\n            this.dispatcher({\n                type: T.SET_AUTHOR,\n                payload: {\n                    value: authorName,\n                    graphID: this.id,\n                    type: 'authorName',\n                },\n            });\n        }\n        this.cy.emit('graph-modified');\n    }\n\n    setServerID(serverID, shouldEmit = true) {\n        this.serverID = serverID;\n        if (shouldEmit) {\n            this.dispatcher({\n                type: T.SET_PROJECT_DETAILS,\n                payload: {\n                    value: serverID,\n                    graphID: this.id,\n                    type: 'serverID',\n                },\n            });\n        }\n        this.cy.emit('graph-modified');\n    }\n\n    selectDeselectEventHandler() {\n        const els = this.cy.$(':selected');\n        if (els.length === 0) { return this.dispatcher({ type: T.ELE_UNSELECTED }); }\n        let type;\n        if (els.every((e) => e.isNode())) type = 'NODE';\n        else if (els.every((e) => e.isEdge())) type = 'EDGE';\n        else type = 'MIX';\n        const ids = els.map((e) => e.data('id'));\n        return this.dispatcher({\n            type: T.ELE_SELECTED,\n            payload: {\n                ids, type,\n            },\n        });\n    }\n\n    registerEvents() {\n        this.cy.on('select unselect', () => this.selectDeselectEventHandler());\n        this.cy.on('grab', 'node[type = \"ordin\"]', (e) => {\n            e.target.forEach((node) => {\n                node.scratch('position', { ...node.position() });\n            });\n        });\n\n        this.cy.on('nodeediting.resizestart', (e, type, node) => {\n            node.scratch('height', node.data('style').height);\n            node.scratch('width', node.data('style').width);\n            node.scratch('position', { ...node.position() });\n        });\n\n        this.cy.on('hide-bend remove', () => {\n            this.bendNode.removeListener('drag grab dragfree'); this.bendNode.addClass('hidden');\n        });\n\n        this.cy.on('grabon', (evt) => (evt.target[0].data('type') !== 'bend' ? this.cy.emit('hide-bend') : 0));\n        this.cy.on('freeon', (evt) => (evt.target[0].data('type') !== 'bend' ? this.cy.emit('show-bend') : 0));\n\n        this.cy.on('click tap', (ev) => {\n            if (ev.target === this.cy) {\n                this.cy.emit('hide-bend');\n                this.cy.$('.eh-handle').remove();\n            }\n        });\n        this.cy.on('select unselect show-bend', () => {\n            const el = this.cy.$(':selected');\n            if (el.length !== 1 || !el[0].isEdge()) this.cy.emit('hide-bend');\n            return el.emit('bend-edge');\n        });\n        this.cy.on('mouseover', 'edge', (ev) => {\n            ev.target.emit('bend-edge');\n        });\n\n        this.cy.on('bend-edge', 'edge', (ev) => {\n            if (!this.bendNode.hasClass('hidden')) this.cy.emit('hide-bend');\n            const el = ev.target;\n            this.bendNode.position(CoreGraph.getBendEdgePoint(el));\n            this.bendNode.on('drag', () => {\n                const DW = BendingDistanceWeight.getWeightDistance(\n                    this.bendNode.position(), el.source().position(), el.target().position(),\n                );\n                el.data('bendData', { bendDistance: DW.d, bendWeight: DW.w });\n                ev.target.emit('bending');\n            });\n            this.bendNode.on('grab', () => {\n                const node = el;\n                node.scratch('bendDistWeight', el.data('bendData'));\n            });\n            this.bendNode.on('dragfree', () => {\n                const node = el;\n                this.addBendChange(node.id(), node.scratch('bendDistWeight'), el.data('bendData'));\n            });\n            this.bendNode.removeClass('hidden');\n        });\n    }\n\n    setBendWightDist(id, DW) {\n        this.getById(id).data('bendData', DW);\n    }\n\n    static getBendEdgePoint(el) {\n        const { bendWeight, bendDistance } = el.data('bendData');\n        const w = parseFloat(bendWeight);\n        const d = parseFloat(bendDistance);\n        return BendingDistanceWeight.getCoordinate(w, d, el.source().position(), el.target().position());\n    }\n\n    setCurStatus() {\n        this.selectDeselectEventHandler();\n    }\n\n    reset() {\n        this.resetAllComp();\n        this.resetAllAction();\n    }\n}\n\nexport default CoreGraph;\n","// import GraphUndoRedo from './graph-undo-redo';\nimport Core from './1-core';\nimport { actionType as T } from '../../reducer';\n\nclass GraphCanvas extends Core {\n    setZoomUI;\n\n    resetZoom() {\n        this.cy.reset();\n        this.cy.center();\n        this.dispatcher({ type: T.SET_ZOOM_LEVEL, payload: this.getZoom() });\n    }\n\n    setOnZoom(cb) {\n        this.cy.removeListener('zoom');\n        this.setZoomUI = cb;\n        this.cy.on('zoom', (e) => cb(Math.round(100 * e.target.zoom())));\n    }\n\n    fitZoom() {\n        this.cy.fit();\n        this.dispatcher({ type: T.SET_ZOOM_LEVEL, payload: this.getZoom() });\n    }\n\n    setZoom(v) {\n        this.cy.zoom(v / 100);\n    }\n\n    getZoom() {\n        return Math.round(this.cy.zoom() * 100);\n    }\n\n    clearAll() {\n        if (this.cy.elements().length === 0) return true;\n        // eslint-disable-next-line no-alert\n        if (!window.confirm('Do want to clear all elements?')) return false;\n        this.cy.elements().forEach((el) => this.deleteElem(el.id(), 0));\n        // this.actionArr = [];\n        this.dispatcher({ type: T.CHANGE_RESET, payload: true });\n        this.cy.emit('graph-modified');\n        return true;\n    }\n\n    resetAllComp() {\n        this.cy.elements().remove();\n    }\n\n    setCurStatus() {\n        super.setCurStatus();\n        this.dispatcher({ type: T.SET_ZOOM_LEVEL, payload: Math.round(this.cy.zoom() * 100) });\n    }\n}\n\nexport default GraphCanvas;\n","const getSet = (ALL_GRAPHS) => {\n    if (!window.localStorage.getItem(ALL_GRAPHS)) {\n        window.localStorage.setItem(ALL_GRAPHS, window.btoa(JSON.stringify([])));\n    }\n    return new Set(JSON.parse(window.atob(window.localStorage.getItem(ALL_GRAPHS))));\n};\n\nconst localStorageManager = {\n    ALL_GRAPHS: window.btoa('ALL_GRAPHS'),\n    AUTHOR_NAME: window.btoa('AUTHOR_NAME'),\n\n    allgs: getSet(window.btoa('ALL_GRAPHS')),\n\n    saveAllgs() {\n        window.localStorage.setItem(this.ALL_GRAPHS, window.btoa(JSON.stringify(Array.from(this.allgs))));\n    },\n\n    addEmptyIfNot() {\n        if (!window.localStorage.getItem(this.ALL_GRAPHS)) {\n            window.localStorage.setItem(this.ALL_GRAPHS, window.btoa(JSON.stringify([])));\n        }\n    },\n\n    get(id) {\n        if (window.localStorage.getItem(id) === null) return null;\n        return JSON.parse(window.atob(window.localStorage.getItem(id)));\n    },\n    save(id, graphContent) {\n        this.addGraph(id);\n        const serializedJson = JSON.stringify(graphContent);\n        window.localStorage.setItem(id, window.btoa(serializedJson));\n    },\n    remove(id) {\n        if (this.allgs.delete(id)) this.saveAllgs();\n        localStorage.removeItem(id);\n    },\n    addGraph(id) {\n        if (this.allgs.has(id)) return;\n        this.allgs.add(id);\n        this.saveAllgs();\n    },\n    getAllGraphs() {\n        return JSON.parse(window.atob(window.localStorage.getItem(this.ALL_GRAPHS)));\n    },\n    addToFront(id) {\n        if (this.allgs.has(id)) return;\n        this.allgs.add(id);\n        const Garr = JSON.parse(window.atob(window.localStorage.getItem(this.ALL_GRAPHS)));\n        Garr.unshift(id);\n        window.localStorage.setItem(this.ALL_GRAPHS, window.btoa(JSON.stringify(Garr)));\n    },\n    getAuthorName() {\n        return localStorage.getItem(this.AUTHOR_NAME) || '';\n    },\n    setAuthorName(authorName) {\n        localStorage.setItem(this.AUTHOR_NAME, authorName);\n    },\n    clearGraph(id) {\n        window.localStorage.removeItem(id);\n    },\n    getFileList() {\n        return localStorage.getItem('fileList') || '';\n    },\n};\nexport default localStorageManager;\n","import Slider from 'rc-slider';\nimport React from 'react';\nimport { BiReset, BiRectangle } from 'react-icons/bi';\nimport 'rc-slider/assets/index.css';\nimport './zoomSetter.css';\nimport GraphOption from '../config/cytoscape-options';\nimport { actionType as T } from '../reducer';\n\nconst { minZoom, maxZoom } = GraphOption;\nconst marks = {};\n\nconst ZoomComp = ({ superState, dispatcher }) => {\n    const myGraph = superState.curGraphInstance;\n    if (!myGraph) return <></>;\n    const zoomValue = superState.zoomLevel;\n    return (\n        <div>\n            <div className=\"zoom-comp\">\n                <div\n                    role=\"button\"\n                    tabIndex={0}\n                    className=\"zoom-box zoom-btn\"\n                    onClick={() => myGraph.resetZoom()}\n                    onKeyDown={(ev) => ev.key === ' ' && (myGraph.resetZoom())}\n                >\n                    <BiReset />\n\n                </div>\n                <div\n                    role=\"button\"\n                    tabIndex={0}\n                    className=\"zoom-box zoom-btn\"\n                    onClick={() => myGraph.fitZoom()}\n                    onKeyDown={(ev) => ev.key === ' ' && (myGraph.resetZoom())}\n                >\n                    <BiRectangle />\n\n                </div>\n                <div className=\"zoom-box zoom-value\">\n                    {zoomValue}\n                    %\n                </div>\n                <div className=\"slider\">\n                    <Slider\n                        min={100 * minZoom}\n                        max={100 * maxZoom}\n                        marks={marks}\n                        onChange={\n                            (value) => {\n                                myGraph.setZoom(value);\n                                dispatcher({ type: T.SET_ZOOM_LEVEL, payload: value });\n                            }\n                        }\n                        included={false}\n                        value={zoomValue}\n                    />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ZoomComp;\n","class PropFromArr {\n    constructor(obj) {\n        this.arr = [obj];\n        this.flatenArr();\n    }\n\n    flatenArr() {\n        const flatArr = [];\n        for (let i = 0; i < this.arr.length; i += 1) {\n            if (this.arr[i].constructor === Array) this.arr[i].forEach((o) => this.arr.push(o));\n            else flatArr.push(this.arr[i]);\n        }\n        this.arr = flatArr;\n    }\n\n    G(p) {\n        return new PropFromArr(this.arr.map((o) => o[p]).filter((o) => o));\n    }\n\n    S(p) {\n        this.arr = this.arr.map((o) => o[p]).filter((o) => o);\n        this.flatenArr();\n        return this;\n    }\n\n    any() {\n        const arr = [];\n        this.arr.forEach((obj) => {\n            Object.keys(obj).forEach((key) => {\n                arr.push(obj[key]);\n            });\n        });\n        this.arr = arr;\n        this.flatenArr();\n        return this;\n    }\n\n    parseProps(s, t) {\n        const propFromArr = new PropFromArr(this.arr);\n        s.split('.').forEach(\n            (property) => (property === '*' ? propFromArr.any() : propFromArr.S(property)),\n        );\n        if (t === 1) return propFromArr.A();\n        if (t === 2) return propFromArr;\n        return propFromArr.F();\n    }\n\n    A() { return this.arr; }\n\n    F() { return this.arr[0]; }\n}\nexport default PropFromArr;\n","import PropFromArr from './PropFromArr';\n\nconst mapByDefault = (x, arr, def) => {\n    if (arr.includes(x)) return x;\n    return def;\n};\n\nconst parseNode = (node) => {\n    const p = new PropFromArr(node).parseProps('data.y:ShapeNode', 2);\n    return {\n        label: p.parseProps('y:NodeLabel._') || p.parseProps('y:NodeLabel'),\n        id: new PropFromArr(node).parseProps('$.id'),\n        position: {\n            x: parseFloat(p.parseProps('y:Geometry.$.x')),\n            y: parseFloat(p.parseProps('y:Geometry.$.y')),\n        },\n        style: {\n            width: parseFloat(p.parseProps('y:Geometry.$.width')),\n            height: parseFloat(p.parseProps('y:Geometry.$.height')),\n            opacity: parseInt(p.parseProps('y:Fill.$.opacity'), 10) || 1,\n            shape: mapByDefault(p.parseProps('y:Shape.$.type'), ['rectangle', 'ellipse'], 'rectangle'),\n            backgroundColor: p.parseProps('y:Fill.$.color'),\n            borderColor: p.parseProps('y:BorderStyle.$.color'),\n            borderWidth: parseInt(p.parseProps('y:BorderStyle.$.width'), 10),\n        },\n    };\n};\n\nconst parseEdge = (edge) => ({\n    label: new PropFromArr(edge).parseProps('data.*.y:EdgeLabel._')\n             || new PropFromArr(edge).parseProps('data.*.y:EdgeLabel'),\n    source: new PropFromArr(edge).parseProps('$.source'),\n    target: new PropFromArr(edge).parseProps('$.target'),\n    style: {\n        backgroundColor: new PropFromArr(edge).parseProps('data.*.y:LineStyle.$.color'),\n        thickness: parseFloat(new PropFromArr(edge).parseProps('data.*.y:LineStyle.$.width')),\n        shape: mapByDefault(new PropFromArr(edge).parseProps('data.*.y:LineStyle.$.type'),\n            ['dashed', 'dotted'], 'solid'),\n    },\n    bendData: {\n        bendPoint: new PropFromArr(edge).parseProps('data.*.y:Path.y:Point.$'),\n    },\n});\n\nconst parseActionML = (({ actionName, parameters }) => ({ actionName: actionName[0], parameters: parameters[0] }));\n\nconst parseActionHistory = (grahML) => grahML.parseProps('graphml.graph.actionHistory', 1)\n    .map(({\n        equivalent, inverse, tid,\n    }) => ({\n\n        equivalent: parseActionML(equivalent[0]),\n        inverse: parseActionML(inverse[0]),\n        tid: tid[0],\n    }));\n\nconst parseDetails = (grahML) => grahML.parseProps('graphml.graph.$');\n\nexport {\n    parseNode, parseEdge, parseDetails, parseActionHistory,\n};\n","import xml2js from 'xml2js';\nimport PropFromArr from './PropFromArr';\nimport {\n    parseNode, parseEdge, parseDetails, parseActionHistory,\n} from './parseProperties';\n\nconst parser = (graphMlCnt) => new Promise((resolve) => {\n    new xml2js.Parser().parseString(graphMlCnt, (err, grahMLObj) => {\n        const grahML = new PropFromArr(grahMLObj);\n        const nodes = grahML.parseProps('graphml.graph.node', 1).map(parseNode);\n        const edges = grahML.parseProps('graphml.graph.edge', 1).map(parseEdge);\n        const {\n            id, projectName, serverID, authorName,\n        } = parseDetails(grahML);\n        const actionHistory = parseActionHistory(grahML);\n        resolve({\n            id, projectName, edges, nodes, actionHistory, serverID, authorName,\n        });\n    });\n});\nexport default parser;\n","import { toast } from 'react-toastify';\nimport parser from '../graph-builder/graphml/parser';\nimport { actionType as T } from '../reducer';\n\nconst getGraphFun = (superState) => superState.curGraphInstance;\n\nconst createNode = (state, setState) => {\n    setState({\n        type: T.Model_Open_Create_Node,\n        cb: (label, style) => {\n            const message = getGraphFun(state).validiateNode(label, style, null, 'New');\n            if (message.ok) getGraphFun(state).addNode(label, style);\n            return message;\n        },\n    });\n};\n\nconst editElement = (state, setState) => {\n    const shouldUpdateLabel = state.eleSelectedPayload.ids.length === 1;\n    const tid = new Date().getTime();\n    if (state.eleSelectedPayload.type === 'NODE') {\n        setState({\n            type: T.Model_Open_Update_Node,\n            cb: (label, style) => {\n                const retMessage = { ok: true, err: null };\n                state.eleSelectedPayload.ids.forEach((id) => {\n                    const message = getGraphFun(state).validiateNode(\n                        shouldUpdateLabel ? label : null, style, id, 'Update',\n                    );\n                    retMessage.ok = retMessage.ok && message.ok;\n                    retMessage.err = retMessage.err || message.err;\n                });\n                if (retMessage.ok) {\n                    state.eleSelectedPayload.ids.forEach(\n                        (id) => getGraphFun(state).updateNode(id, style, label, shouldUpdateLabel, tid),\n                    );\n                }\n                return retMessage;\n            },\n            labelAllowed: shouldUpdateLabel,\n            label: getGraphFun(state).getLabel(state.eleSelectedPayload.ids[0]),\n            style: getGraphFun(state).getStyle(state.eleSelectedPayload.ids[0]),\n        });\n    }\n    if (state.eleSelectedPayload.type === 'EDGE') {\n        setState({\n            type: T.Model_Open_Update_Edge,\n            cb: (label, style) => {\n                const retMessage = { ok: true, err: null };\n                state.eleSelectedPayload.ids.forEach((id) => {\n                    const message = getGraphFun(state).validiateEdge(\n                        shouldUpdateLabel ? label : null, style, null, null, id, 'Update',\n                    );\n                    retMessage.ok = retMessage.ok && message.ok;\n                    retMessage.err = retMessage.err || message.err;\n                });\n                if (retMessage.ok) {\n                    state.eleSelectedPayload.ids.forEach(\n                        (id) => getGraphFun(state).updateEdge(id, style, label, shouldUpdateLabel, tid),\n                    );\n                }\n                return retMessage;\n            },\n            labelAllowed: shouldUpdateLabel,\n            label: getGraphFun(state).getLabel(state.eleSelectedPayload.ids[0]),\n            style: getGraphFun(state).getStyle(state.eleSelectedPayload.ids[0]),\n        });\n    }\n};\n\nconst deleteElem = (state, dispatcher) => {\n    const tid = new Date().getTime();\n    state.eleSelectedPayload.ids.forEach((id) => getGraphFun(state).deleteElem(id, tid));\n    dispatcher({ type: T.ELE_UNSELECTED, payload: null });\n};\n\nconst downloadImg = (state, setState, format) => {\n    getGraphFun(state).downloadImg(format);\n};\n\nconst saveAction = (state) => {\n    getGraphFun(state).saveToDisk();\n};\n\nasync function saveGraphMLFile(state) {\n    if (state.curGraphInstance) {\n        const graph = state.graphs[state.curGraphIndex];\n        if (graph.fileHandle) {\n            const stream = await graph.fileHandle.createWritable();\n            await stream.write(getGraphFun(state).saveToFolder());\n            await stream.close();\n            toast.success('File saved Successfully');\n        } else if (!graph.fileHandle) {\n            getGraphFun(state).saveWithoutFileHandle();\n        } else {\n            toast.info('Switch to Edge/Chrome!');\n        }\n    } else {\n        toast.info('Switch to Edge/Chrome!');\n    }\n}\n\nconst readFile = async (state, setState, file, fileHandle) => {\n    if (file) {\n        const fr = new FileReader();\n        const projectName = file.name;\n        if (file.name.split('.').pop() === 'graphml') {\n            fr.onload = (x) => {\n                parser(x.target.result).then(({ authorName }) => {\n                    setState({\n                        type: T.ADD_GRAPH,\n                        payload: {\n                            projectName, graphML: x.target.result, fileHandle, fileName: file.name, authorName,\n                        },\n                    });\n                });\n            };\n            if (fileHandle) fr.readAsText(await fileHandle.getFile());\n            else fr.readAsText(file);\n        }\n    }\n};\n\nconst readTextFile = (state, setState, file, fileHandle) => {\n    if (file) {\n        setState({\n            type: T.EDIT_TEXTFILE,\n            payload: { show: true, fileObj: file, fileHandle },\n        });\n    }\n};\n\nconst optionModalToggle = (state, setState) => {\n    setState({\n        type: T.SET_OPTIONS_MODAL,\n        payload: true,\n    });\n};\n\nconst createFile = (state, setState) => {\n    setState({\n        type: T.EDIT_TEXTFILE,\n        payload: { show: true },\n    });\n};\n\nconst newProject = (state, setState) => {\n    setState({ type: T.NEW_GRAPH });\n};\n\nconst clearAll = (state) => {\n    getGraphFun(state).clearAll();\n};\n\nconst contribute = (state, setState) => {\n    setState({ type: T.SET_CONTRIBUTE_MODAL, payload: true });\n};\n\nconst resetAfterClear = (state) => {\n    getGraphFun(state).resetAfterClear();\n};\n\nconst toggleLogs = (state, dispatcher) => {\n    dispatcher({ type: T.SET_LOGS, payload: !state.logs });\n};\n\nconst editDetails = (state, setState) => {\n    setState({\n        type: T.SET_EDIT_DETAILS_MODAL,\n        payload: true,\n    });\n};\n\nconst undo = (state) => {\n    if (getGraphFun(state)) getGraphFun(state).undo();\n};\nconst redo = (state) => {\n    getGraphFun(state).redo();\n};\n\nconst openShareModal = (state, setState) => {\n    setState({ type: T.SET_SHARE_MODAL, payload: true });\n};\n\nconst openSettingModal = (state, setState) => {\n    setState({ type: T.SET_SETTING_MODAL, payload: true });\n};\n\nconst viewHistory = (state, setState) => {\n    setState({ type: T.SET_HISTORY_MODAL, payload: true });\n};\n\nconst toggleServer = (state, dispatcher) => {\n    if (state.isWorkflowOnServer) {\n        dispatcher({ type: T.IS_WORKFLOW_ON_SERVER, payload: false });\n    } else {\n        dispatcher({ type: T.IS_WORKFLOW_ON_SERVER, payload: true });\n    }\n};\n\nexport {\n    createNode, editElement, deleteElem, downloadImg, saveAction, saveGraphMLFile,\n    createFile, readFile, readTextFile, newProject, clearAll, editDetails, undo, redo,\n    openShareModal, openSettingModal, viewHistory, resetAfterClear, toggleLogs,\n    toggleServer, optionModalToggle, contribute,\n};\n","import React from 'react';\nimport {\n    MdEdit, MdClose, MdAdd,\n} from 'react-icons/md';\nimport hotkeys from 'hotkeys-js';\nimport ReactTooltip from 'react-tooltip';\nimport localStorageManager from '../graph-builder/local-storage-manager';\nimport { actionType as T } from '../reducer';\nimport { newProject, editDetails } from '../toolbarActions/toolbarFunctions';\nimport './tabBar.css';\n\nconst TabBar = ({ superState, dispatcher }) => {\n    const closeTab = (i, e) => {\n        e.stopPropagation();\n        // eslint-disable-next-line no-alert\n        if (!window.confirm('Do you confirm to close the tab? This action is irreversable.')) return;\n        localStorageManager.remove(superState.graphs[i] ? superState.graphs[i].graphID : null);\n        dispatcher({ type: T.REMOVE_GRAPH, payload: i });\n        if (!superState.curGraphIndex && superState.graphs.length === 1) {\n            dispatcher({ type: T.SET_CUR_INSTANCE, payload: null });\n            dispatcher({ type: T.SET_CUR_INDEX, payload: -1 });\n        }\n    };\n    const editCur = (e) => {\n        e.stopPropagation();\n        editDetails(superState, dispatcher);\n    };\n    React.useEffect(() => {\n        hotkeys('ctrl+shift+m,command+shift+m', (event) => {\n            event.preventDefault();\n            document.getElementById('new_graph').click();\n        });\n        hotkeys('ctrl+shift+e,command+shift+e', (event) => {\n            event.preventDefault();\n            const el = document.querySelector('.tab.tab-graph.selected > .tab-act.edit');\n            if (el) el.click();\n        });\n        hotkeys('ctrl+shift+l,command+shift+l', (event) => {\n            event.preventDefault();\n            const el = document.querySelector('.tab.tab-graph.selected > .tab-act.close');\n            if (el) el.click();\n        });\n    }, []);\n\n    return (\n        <div className=\"tab-par\">\n            <button\n                className=\"tab\"\n                onClick={newProject.bind(this, superState, dispatcher)}\n                type=\"button\"\n                id=\"new_graph\"\n                data-tip=\"New Workflow Tab (Ctrl + Shift + M)\"\n            >\n                <MdAdd size={25} />\n            </button>\n            {superState.graphs.map((el, i) => (\n                <div\n                    key={el.graphID}\n                    className={`tab tab-graph ${superState.curGraphIndex === i ? 'selected' : 'none'}`}\n                    onClick={() => dispatcher({ type: T.CHANGE_TAB, payload: i })}\n                    onKeyDown={(ev) => ev.key === ' ' && dispatcher({ type: T.CHANGE_TAB, payload: i })}\n                    role=\"button\"\n                    tabIndex={0}\n                    id={`tab_${i}`}\n                >\n                    <span className=\"tab-text\">\n                        {el.fileName || el.projectName}\n                    </span>\n\n                    {superState.curGraphIndex === i ? (\n                        <button\n                            className=\"tab-act edit\"\n                            onClick={editCur}\n                            type=\"button\"\n                            data-tip=\"Edit Workflow Details (Ctrl + Shift + E)\"\n                            data-for=\"header-tab\"\n                        >\n                            <MdEdit size={16} />\n                        </button>\n                    ) : <></>}\n                    <button\n                        className=\"tab-act close\"\n                        onClick={closeTab.bind(this, i)}\n                        type=\"button\"\n                        data-tip=\"Close current Workflow (Ctrl + Shift + L)\"\n                        data-for=\"header-tab\"\n                    >\n                        <MdClose size={20} />\n                    </button>\n                    <ReactTooltip place=\"bottom\" type=\"dark\" effect=\"solid\" id=\"header-tab\" />\n                </div>\n            ))}\n        </div>\n    );\n};\n\nexport default TabBar;\n","const nodeML = ({\n  label, id, posX, posY, width, height, opacity, shape, backgroundColor, borderColor, borderWidth,\n}) => ({\n  $: {\n    id,\n  },\n  data: [\n    {\n      $: {\n        key: 'd6',\n      },\n      'y:ShapeNode': [\n        {\n          'y:Geometry': [\n            {\n              $: {\n                height,\n                width,\n                x: posX,\n                y: posY,\n              },\n            },\n          ],\n          'y:Fill': [\n            {\n              $: {\n                color: backgroundColor,\n                opacity,\n              },\n            },\n          ],\n          'y:BorderStyle': [\n            {\n              $: {\n                color: borderColor,\n                width: borderWidth,\n              },\n            },\n          ],\n          'y:NodeLabel': [label],\n          'y:Shape': [\n            {\n              $: {\n                type: shape,\n              },\n            },\n          ],\n        },\n      ],\n    },\n  ],\n});\n\nexport default nodeML;\n","const graphML = ({\n  nodes, edges, id, projectName, authorName, actionHistory, serverID, fileHandle, fileName,\n}) => ({\n  graphml: {\n    $: {\n      xmlns: 'http://graphml.graphdrawing.org/xmlns',\n      'xmlns:xsi': 'http://www.w3.org/2001/XMLSchema-instance',\n      'xsi:schemaLocation': 'http://graphml.graphdrawing.org/xmlns http://www.yworks.com/xml/schema/graphml/1.1/ygraphml.xsd',\n      'xmlns:y': 'http://www.yworks.com/xml/graphml',\n    },\n    key: [\n      {\n        $: {\n          for: 'node',\n          id: 'd6',\n          'yfiles.type': 'nodegraphics',\n        },\n      },\n      {\n        $: {\n          for: 'edge',\n          id: 'd10',\n          'yfiles.type': 'edgegraphics',\n        },\n      },\n    ],\n    graph: [\n      {\n        $: {\n          edgedefault: 'directed',\n          id,\n          projectName,\n          serverID,\n          fileHandle,\n          fileName,\n          authorName,\n        },\n        node: nodes,\n        edge: edges,\n        actionHistory,\n      },\n    ],\n  },\n});\n\nexport default graphML;\n","const edgeML = ({\n  id, label, source, target, lineColor, lineWidth, bendPoint, type,\n}) => ({\n  $: {\n    id,\n    source,\n    target,\n  },\n  data: [\n    {\n      $: {\n        key: 'd10',\n      },\n      'y:GenericEdge': [\n        {\n          $: {\n            configuration: 'com.yworks.bpmn.Connection',\n          },\n          'y:LineStyle': [\n            {\n              $: {\n                color: lineColor,\n                width: lineWidth,\n                type,\n              },\n            },\n          ],\n          'y:Arrows': [\n            {\n              $: {\n                source: 'none',\n                target: 'delta',\n              },\n            },\n          ],\n          'y:EdgeLabel': [label],\n          'y:Path': [\n            {\n              $: {\n                sx: '0.0',\n                sy: '0.0',\n                tx: '0.0',\n                ty: '0.0',\n              },\n              'y:Point': [\n                { $: bendPoint },\n              ],\n            },\n          ],\n        },\n      ],\n    },\n  ],\n});\n\nexport default edgeML;\n","import xml2js from 'xml2js';\nimport nodeML from './nodeML';\nimport graphML from './graphML';\nimport edgeML from './edgeML';\n\nconst builder = (G) => {\n    const nodes = G.nodes.map((node) => (nodeML({\n        label: node.label,\n        id: node.id,\n        posX: node.position.x,\n        posY: node.position.y,\n        ...node.style,\n    })));\n    const edges = G.edges.map((edg, i) => edgeML({\n        id: i,\n        label: edg.label,\n        source: edg.source,\n        target: edg.target,\n        lineColor: edg.style.backgroundColor,\n        lineWidth: edg.style.thickness,\n        bendPoint: edg.bendData.bendPoint,\n        type: edg.style.shape,\n    }));\n    const X = graphML({\n        nodes,\n        edges,\n        projectName: G.projectName,\n        id: G.id,\n        actionHistory: G.actionHistory,\n        serverID: G.serverID,\n        fileHandle: G.fileHandle,\n        fileName: G.fileName,\n        authorName: G.authorName,\n    });\n    const xml = new xml2js.Builder().buildObject(X);\n    return xml;\n};\nexport default builder;\n","import md5 from 'md5';\nimport GraphComponent from './3-component';\nimport GA from '../graph-actions';\nimport { actionType as T } from '../../reducer';\n\nclass GraphUndoRedo extends GraphComponent {\n    static methodsMapped\n\n    actionArr\n\n    curActionIndex\n\n    constructor(...props) {\n        super(...props);\n\n        this.methodsMapped = {\n            [GA.ADD_NODE]: (...args) => this.addNode(...args, 0),\n            [GA.ADD_EDGE]: (...args) => this.addEdge(...args, 0),\n            [GA.UPDATE_NODE]: (...args) => this.updateNode(...args, 0),\n            [GA.UPDATE_EDGE]: (...args) => this.updateEdge(...args, 0),\n            [GA.UPDATE_DATA]: (...args) => this.updateData(...args, 0),\n            [GA.DEL_NODE]: (...args) => this.deleteNode(...args, 0),\n            [GA.DEL_EDGE]: (...args) => this.deleteElem(...args, 0),\n            [GA.SET_POS]: (...args) => this.setPos(...args, 0),\n            [GA.SET_DIM]: (...args) => this.setDim(...args, 0),\n            [GA.SET_BENDW]: (...args) => this.setBendWightDist(...args),\n        };\n\n        this.actionArr = [];\n        this.curActionIndex = 0;\n    }\n\n    resetAllAction() {\n        this.actionArr = [];\n        this.curActionIndex = 0;\n    }\n\n    informUI() {\n        this.dispatcher({ type: T.SET_UNDO, payload: this.curActionIndex !== 0 });\n        this.dispatcher({ type: T.SET_REDO, payload: this.curActionIndex !== this.actionArr.length });\n    }\n\n    performAction({ actionName, parameters }) {\n        const action = this.methodsMapped[actionName];\n        action(...parameters);\n    }\n\n    addPositionChange(id, prevPos, curPos) {\n        const tid = new Date().getTime();\n        this.addAction(\n            { actionName: GA.SET_POS, parameters: [id, prevPos, curPos] },\n            { actionName: GA.SET_POS, parameters: [id, curPos, prevPos] }, tid,\n        );\n    }\n\n    addDimensionChange(id, prevDim, prevPos, curDim, curPos) {\n        const tid = new Date().getTime();\n        this.addAction(\n            { actionName: GA.SET_DIM, parameters: [id, prevDim, prevPos] },\n            { actionName: GA.SET_DIM, parameters: [id, curDim, curPos] }, tid,\n        );\n    }\n\n    addBendChange(id, prevDW, curDW) {\n        const tid = new Date().getTime();\n        this.addAction(\n            { actionName: GA.SET_BENDW, parameters: [id, prevDW] },\n            { actionName: GA.SET_BENDW, parameters: [id, curDW] }, tid,\n        );\n    }\n\n    static sequencify(obj) {\n        if (!(obj instanceof Object)) return obj;\n        let r = [];\n        if (obj instanceof Array) {\n            r = obj.map(GraphUndoRedo.sequencify);\n        } else {\n            Object.keys(obj).sort().forEach((k) => {\n                r.push(`:${k}:`);\n                r.push(GraphUndoRedo.sequencify(obj[k]));\n            });\n        }\n        return r;\n    }\n\n    addAction(inverse, equivalent, tid) {\n        if (tid === 0) return;\n        this.actionArr.splice(this.curActionIndex);\n\n        const actionIdentity = GraphUndoRedo.sequencify(equivalent).toString()\n            + GraphUndoRedo.sequencify(equivalent).toString()\n            + tid;\n        this.actionArr.push({\n            tid,\n            inverse,\n            equivalent,\n            hash: md5(\n                `${actionIdentity}|${this.actionArr.length ? this.actionArr.at(-1).hash : ''}`,\n            ),\n        });\n        this.curActionIndex += 1;\n        this.informUI();\n    }\n\n    undoSingleAction() {\n        if (this.curActionIndex !== 0) {\n            this.curActionIndex -= 1;\n            this.performAction(this.actionArr[this.curActionIndex].inverse);\n            this.informUI();\n        }\n    }\n\n    redoSingleAction() {\n        if (this.curActionIndex !== this.actionArr.length) {\n            this.performAction(this.actionArr[this.curActionIndex].equivalent);\n            this.curActionIndex += 1;\n            this.informUI();\n        }\n    }\n\n    undo() {\n        let curTid = null;\n        if (this.curActionIndex !== 0) curTid = this.actionArr[this.curActionIndex - 1].tid;\n        while (this.curActionIndex !== 0 && this.actionArr[this.curActionIndex - 1].tid === curTid) {\n            this.curActionIndex -= 1;\n            this.performAction(this.actionArr[this.curActionIndex].inverse);\n        }\n        this.informUI();\n    }\n\n    redo() {\n        let curTid = null;\n        if (this.curActionIndex !== this.actionArr.length) curTid = this.actionArr[this.curActionIndex].tid;\n        while (this.curActionIndex !== this.actionArr.length && this.actionArr[this.curActionIndex].tid === curTid) {\n            this.performAction(this.actionArr[this.curActionIndex].equivalent);\n            this.curActionIndex += 1;\n        }\n        this.informUI();\n    }\n\n    resetAfterClear() {\n        const limit = this.curActionIndex;\n        this.curActionIndex = 0;\n        while (this.curActionIndex !== this.actionArr.length && this.curActionIndex !== limit) {\n            this.performAction(this.actionArr[this.curActionIndex].equivalent);\n            this.curActionIndex += 1;\n        }\n        this.informUI();\n        this.dispatcher({ type: T.CHANGE_RESET, payload: false });\n        return true;\n    }\n\n    setCurStatus() {\n        super.setCurStatus();\n        this.informUI();\n    }\n\n    registerEvents() {\n        super.registerEvents();\n        this.cy.on('dragfree', 'node[type = \"ordin\"]', (e) => {\n            e.target.forEach((node) => {\n                this.addPositionChange(node.id(), node.scratch('position'), { ...node.position() });\n            });\n        });\n        this.cy.on('nodeediting.resizeend', (e, type, node) => {\n            this.addDimensionChange(\n                node.id(),\n                { height: node.scratch('height'), width: node.scratch('width') },\n                node.scratch('position'),\n                { height: node.data('style').height, width: node.data('style').width },\n                { ...node.position() },\n            );\n        });\n    }\n}\n\nexport default GraphUndoRedo;\n","import { saveAs } from 'file-saver';\nimport { toast } from 'react-toastify';\nimport localStorageManager from '../local-storage-manager';\nimport graphmlBuilder from '../graphml/builder';\nimport BendingDistanceWeight from '../calculations/bending-dist-weight';\nimport GraphUndoRedo from './4-undo-redo';\nimport graphMLParser from '../graphml/parser';\nimport { actionType as T } from '../../reducer';\n\nclass GraphLoadSave extends GraphUndoRedo {\n    autoSaveIntervalId\n\n    constructor(...args) {\n        super(...args);\n        this.autoSaveIntervalId = null;\n    }\n\n    registerEvents() {\n        super.registerEvents();\n        this.cy.on('add remove data dragfreeon', 'node[type=\"ordin\"]', () => this.saveLocalStorage());\n        this.cy.on('add remove data', 'edge[type=\"ordin\"]', () => this.saveLocalStorage());\n        this.cy.on('nodeediting.resizeend graph-modified', () => this.saveLocalStorage());\n    }\n\n    downloadImg(format) {\n        this.cy.emit('hide-bend');\n        this.cy.$('.eh-handle').remove();\n        if (format === 'PNG') saveAs(this.cy.png({ full: true }), `${this.getName()}-DHGWorkflow.png`);\n        if (format === 'JPG') saveAs(this.cy.jpg({ full: true }), `${this.getName()}-DHGWorkflow.jpg`);\n    }\n\n    shouldNodeBeSaved(nodeID) {\n        return this.getById(nodeID).data('type') === 'ordin';\n    }\n\n    shouldEdgeBeSaved(edgeID) {\n        return this.getById(edgeID).data('type') === 'ordin';\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getRealSourceId(nodeID) {\n        return nodeID;\n    }\n\n    static stringifyAction({ actionName, parameters }) {\n        return { actionName, parameters: window.btoa(JSON.stringify(parameters)) };\n    }\n\n    static parseAction({ actionName, parameters }) {\n        return { actionName, parameters: JSON.parse(window.atob(parameters)) };\n    }\n\n    jsonifyGraph() {\n        const graph = {\n            nodes: [],\n            edges: [],\n            actionHistory: [],\n            projectName: this.projectName,\n            id: this.id,\n            serverID: this.serverID,\n            fileName: null,\n            fileHandle: null,\n            authorName: this.authorName,\n        };\n        this.cy.nodes().forEach((node) => {\n            if (this.shouldNodeBeSaved(node.id())) {\n                const all = node.json();\n                const nodeJson = {\n                    label: all.data.label,\n                    id: all.data.id,\n                    position: all.position,\n                    style: {},\n                };\n                nodeJson.style = this.getStyle(node.id());\n                graph.nodes.push(nodeJson);\n            }\n        });\n        this.cy.edges().forEach((edge) => {\n            if (this.shouldEdgeBeSaved(edge.id())) {\n                const edgeJson = edge.json().data;\n                edgeJson.source = this.getRealSourceId(edge.source().id());\n                edgeJson.style = this.getStyle(edge.id());\n                edgeJson.bendData.bendPoint = BendingDistanceWeight.getCoordinate(\n                    edgeJson.bendData.bendWeight, edgeJson.bendData.bendDistance,\n                    edge.source().position(), edge.target().position(),\n                );\n                graph.edges.push(edgeJson);\n            }\n        });\n        graph.actionHistory = this.actionArr.map(({\n            tid, inverse, equivalent, hash,\n        }) => ({\n            tid,\n            inverse: GraphLoadSave.stringifyAction(inverse),\n            equivalent: GraphLoadSave.stringifyAction(equivalent),\n            hash,\n        }));\n        return graph;\n    }\n\n    getName() {\n        return `${this.projectName}`;\n    }\n\n    async saveToDisk() {\n        const str = graphmlBuilder(this.jsonifyGraph());\n        const bytes = new TextEncoder().encode(str);\n        const blob = new Blob([bytes], { type: 'application/json;charset=utf-8' });\n        if (navigator.userAgent.indexOf('Edg') !== -1 || navigator.userAgent.indexOf('Chrome') !== -1) {\n            const options = {\n                types: [\n                    {\n                        description: 'GraphMl Files',\n                        accept: {\n                            'text/graphml': ['.graphml'],\n                        },\n                    },\n                ],\n            };\n            const handle = await window.showSaveFilePicker(options);\n            const stream = await handle.createWritable();\n            await stream.write(blob);\n            await stream.close();\n            const fileData = await handle.getFile();\n            let fS = this.superState.fileState;\n            fS = fS.concat([{\n                key: `${this.superState.uploadedDirName}/${handle.name}`,\n                modified: fileData.lastModified,\n                size: fileData.size,\n                fileObj: fileData,\n                fileHandle: handle,\n            }]);\n            this.dispatcher({ type: T.SET_FILE_STATE, payload: fS });\n        } else {\n            // eslint-disable-next-line no-alert\n            const fileName = prompt('Filename:');\n            saveAs(blob, `${fileName || `${this.getName()}-concore`}.graphml`);\n        }\n        toast.success('File saved Successfully');\n    }\n\n    async saveWithoutFileHandle() {\n        const { userAgent } = navigator;\n        if (userAgent.match(/firefox|fxios/i)) {\n            toast.info('Switch to Edge/Chrome!');\n            return;\n        }\n        const str = graphmlBuilder(this.jsonifyGraph());\n        const bytes = new TextEncoder().encode(str);\n        const blob = new Blob([bytes], { type: 'application/json;charset=utf-8' });\n        const options = {\n            types: [\n                {\n                    description: 'GraphMl Files',\n                    accept: {\n                        'text/graphml': ['.graphml'],\n                    },\n                },\n            ],\n        };\n        const handle = await window.showSaveFilePicker(options);\n        this.dispatcher({\n            type: T.SET_FILE_HANDLE,\n            payload: { curGraphIndex: this.superState.curGraphIndex, fileHandle: handle },\n        });\n        const stream = await handle.createWritable();\n        await stream.write(blob);\n        await stream.close();\n        toast.success('File saved Successfully');\n    }\n\n    saveToFolder() {\n        const str = graphmlBuilder(this.jsonifyGraph());\n        return str;\n    }\n\n    getGraphML() {\n        return graphmlBuilder(this.jsonifyGraph());\n    }\n\n    loadJson(content) {\n        content.nodes.forEach((node) => {\n            this.addNode(node.label, node.style, 'ordin', node.position, {}, node.id, 0);\n        });\n        content.edges.forEach((edge) => {\n            this.addEdge({ ...edge, sourceID: edge.source, targetID: edge.target }, 0);\n        });\n        content.actionHistory.forEach(({\n            inverse, equivalent, tid,\n        }) => {\n            this.addAction(GraphLoadSave.parseAction(inverse), GraphLoadSave.parseAction(equivalent), tid);\n        });\n        this.setProjectName(content.projectName);\n        this.setServerID(this.serverID || content.serverID);\n        this.setProjectAuthor(content.authorName);\n    }\n\n    saveLocalStorage() {\n        if (this.autoSaveIntervalId !== null) clearTimeout(this.autoSaveIntervalId);\n        this.autoSaveIntervalId = setTimeout(() => localStorageManager.save(this.id, this.jsonifyGraph()), 1000);\n    }\n\n    setGraphML(graphML) {\n        graphMLParser(graphML).then((graphObject) => {\n            localStorageManager.save(this.id, graphObject);\n            this.loadGraphFromLocalStorage();\n        });\n    }\n\n    resetLocalStorage() {\n        localStorageManager.clearGraph(this.id);\n    }\n\n    loadGraphFromLocalStorage() {\n        this.reset();\n        const graphContent = localStorageManager.get(this.id);\n        if (!graphContent) return false;\n        this.loadJson(graphContent);\n        return true;\n    }\n\n    serializeGraph() {\n        return window.btoa(JSON.stringify(this.jsonifyGraph()));\n    }\n}\n\nexport default GraphLoadSave;\n","import { toast } from 'react-toastify';\nimport Axios from 'axios';\nimport { actionType as T } from '../../reducer';\nimport GraphLoadSave from './5-load-save';\n// import {\n//     postGraph, updateGraph, forceUpdateGraph, getGraph, getGraphWithHashCheck,\n// } from '../../serverCon/crud_http';\n\nclass GraphServer extends GraphLoadSave {\n    set(config) {\n        const { serverID } = config;\n        super.set(config);\n        if (serverID) {\n            this.setServerID(serverID);\n            this.dispatcher({ type: T.IS_WORKFLOW_ON_SERVER, payload: Boolean(this.serverID) });\n        }\n    }\n    // Not being immplemented in version 1\n    // pushToServer() {\n    //     if (this.serverID) {\n    //         updateGraph(this.serverID, this.getGraphML()).then(() => {\n\n    //         });\n    //     } else {\n    //         postGraph(this.getGraphML()).then((serverID) => {\n    //             this.set({ serverID });\n    //             this.cy.emit('graph-modified');\n    //         });\n    //     }\n    // }\n\n    // forcePushToServer() {\n    //     if (this.serverID) {\n    //         forceUpdateGraph(this.serverID, this.getGraphML()).then(() => {\n\n    //         });\n    //     } else {\n    //         postGraph(this.getGraphML()).then((serverID) => {\n    //             this.set({ serverID });\n    //         });\n    //     }\n    // }\n\n    // forcePullFromServer() {\n    //     if (this.serverID) {\n    //         getGraph(this.serverID).then((graphXML) => {\n    //             this.setGraphML(graphXML);\n    //         });\n    //     } else {\n    //         // eslint-disable-next-line no-toast.success\n    //         toast.success('Not on server');\n    //     }\n    // }\n\n    // pullFromServer() {\n    //     if (this.actionArr.length === 0) { this.forcePullFromServer(); return; }\n    //     if (this.serverID) {\n    //         getGraphWithHashCheck(this.serverID, this.actionArr.at(-1).hash).then((graphXML) => {\n    //             this.setGraphML(graphXML);\n    //         }).catch(() => {\n\n    //         });\n    //     } else {\n    //         // eslint-disable-next-line no-toast.success\n    //         toast.success('Not on server');\n    //     }\n    // }\n\n    build() {\n        // TODO\n        const toastId = toast.info('LOADING.......', {\n            position: 'bottom-left',\n            autoClose: false,\n        });\n        this.dispatcher({ type: T.SET_LOGS, payload: false });\n        Axios.post(`http://127.0.0.1:5000/build/${this.superState.uploadedDirName}?fetch=${this.superState.graphs[this.superState.curGraphIndex].fileName.split('.')[0]}&unlock=${this.superState.unlockCheck}&docker=${this.superState.dockerCheck}&maxtime=${this.superState.maxTime}&params=${this.superState.params}&octave=${this.superState.octave}`)\n            .then((res) => { // eslint-disable-next-line\n                toast.success(res.data['message']);\n                this.dispatcher({\n                    type: T.SET_FUNCTIONS,\n                    payload: {\n                        built: false, ran: true, debugged: true, cleared: false, stopped: false, destroyed: true,\n                    },\n                });\n                this.dispatcher({ type: T.SET_LOGS_MESSAGE, payload: this.superState.logsmessage + res.data.output });\n                toast.dismiss(toastId);\n            }).catch((err) => { // eslint-disable-next-line\n                toast.error(err.message);\n                toast.dismiss(toastId);\n            });\n        if (this.serverID);\n    }\n\n    debug() {\n        // TODO\n        const toastId = toast.info('LOADING.......', {\n            position: 'bottom-left',\n            autoClose: false,\n        });\n        this.dispatcher({ type: T.SET_LOGS, payload: false });\n        Axios.post(`http://127.0.0.1:5000/debug/${this.superState.graphs[this.superState.curGraphIndex].fileName.split('.')[0]}`)\n            .then((res) => { // eslint-disable-next-line\n                toast.success(res.data['message'])\n                this.dispatcher({\n                    type: T.SET_FUNCTIONS,\n                    payload: {\n                        built: false, ran: false, debugged: false, cleared: true, stopped: true, destroyed: true,\n                    },\n                });\n                toast.dismiss(toastId);\n            }).catch((err) => { // eslint-disable-next-line\n                toast.error(err.message);\n                toast.dismiss(toastId);\n            });\n        if (this.serverID);\n    }\n\n    run() {\n        // TODO\n        const toastId = toast.info('LOADING.......', {\n            position: 'bottom-left',\n            autoClose: false,\n        });\n        this.dispatcher({ type: T.SET_LOGS, payload: false });\n        Axios.post(`http://127.0.0.1:5000/run/${this.superState.graphs[this.superState.curGraphIndex].fileName.split('.')[0]}`)\n            .then((res) => { // eslint-disable-next-line\n                toast.success(res.data['message'])\n                this.dispatcher({\n                    type: T.SET_FUNCTIONS,\n                    payload: {\n                        built: false, ran: false, debugged: false, cleared: true, stopped: true, destroyed: true,\n                    },\n                });\n                toast.dismiss(toastId);\n            }).catch((err) => { // eslint-disable-next-line\n                toast.error(err.message);\n                toast.dismiss(toastId);\n            });\n        if (this.serverID);\n    }\n\n    clear() {\n        // TODO\n        const toastId = toast.info('LOADING.......', {\n            position: 'bottom-left',\n            autoClose: false,\n        });\n        this.dispatcher({ type: T.SET_LOGS, payload: false });\n        Axios.post(`http://127.0.0.1:5000/clear/${this.superState.graphs[this.superState.curGraphIndex].fileName.split('.')[0]}\n        ?unlock=${this.superState.unlockCheck}&maxtime=${this.superState.maxTime}&params=${this.superState.params}`)\n            .then((res) => { // eslint-disable-next-line\n                toast.success(res.data['message']);\n                this.dispatcher({\n                    type: T.SET_FUNCTIONS,\n                    payload: {\n                        built: false, ran: true, debugged: true, cleared: false, stopped: true, destroyed: true,\n                    },\n                });\n                toast.dismiss(toastId);\n            }).catch((err) => { // eslint-disable-next-line\n                toast.error(err.message);\n                toast.dismiss(toastId);\n            });\n        if (this.serverID);\n    }\n\n    stop() {\n        // TODO\n        const toastId = toast.info('LOADING.......', {\n            position: 'bottom-left',\n            autoClose: false,\n        });\n        this.dispatcher({ type: T.SET_LOGS, payload: false });\n        Axios.post(`http://127.0.0.1:5000/stop/${this.superState.graphs[this.superState.curGraphIndex].fileName.split('.')[0]}`)\n            .then((res) => { // eslint-disable-next-line\n                toast.success(res.data['message'])\n                this.dispatcher({\n                    type: T.SET_FUNCTIONS,\n                    payload: {\n                        built: false, ran: false, debugged: false, cleared: true, stopped: false, destroyed: true,\n                    },\n                });\n                toast.dismiss(toastId);\n            }).catch((err) => { // eslint-disable-next-line\n                toast.error(err.message);\n                toast.dismiss(toastId);\n            });\n        if (this.serverID);\n    }\n\n    destroy() {\n        // TODO\n        const toastId = toast.info('LOADING.......', {\n            position: 'bottom-left',\n            autoClose: false,\n        });\n        this.dispatcher({ type: T.SET_LOGS, payload: false });\n        Axios.delete(`http://127.0.0.1:5000/destroy/${this.superState.graphs[this.superState.curGraphIndex].fileName.split('.')[0]}`)\n            .then((res) => { // eslint-disable-next-line\n                toast.success(res.data['message'])\n                this.dispatcher({\n                    type: T.SET_FUNCTIONS,\n                    payload: {\n                        built: true, ran: false, debugged: false, cleared: false, stopped: false, destroyed: false,\n                    },\n                });\n                toast.dismiss(toastId);\n            }).catch((err) => { // eslint-disable-next-line\n                toast.error(err.message);\n                toast.dismiss(toastId);\n            });\n        if (this.serverID);\n    }\n\n    library(fileName) {\n        // TODO\n        const toastId = toast.info('LOADING.......', {\n            position: 'bottom-left',\n            autoClose: false,\n        });\n        // this.dispatcher({ type: T.SET_LOGS, payload: false });\n        Axios.post(`http://127.0.0.1:5000/library/${this.superState.uploadedDirName}?filename=${fileName}&path=${this.superState.library}`)\n            .then((res) => { // eslint-disable-next-line\n                toast.info(res.data['message'])\n                toast.dismiss(toastId);\n            }).catch((err) => { // eslint-disable-next-line\n                toast.error(err.message);\n                toast.dismiss(toastId);\n            });\n        if (this.serverID);\n    }\n\n    setCurStatus() {\n        super.setCurStatus();\n        this.dispatcher({ type: T.IS_WORKFLOW_ON_SERVER, payload: Boolean(this.serverID) });\n    }\n}\n\nexport default GraphServer;\n","import GraphServer from './6-server';\n\nexport default GraphServer;\n","const boundaryPoint = {\n    getEq(P1, P2) {\n        const m = (P1.y - P2.y) / (P1.x - P2.x);\n        const c = P1.y - m * P1.x;\n        return [m, c];\n    },\n    getX1X2(Cn, P, w, h) {\n        if (Cn.x === P.x) return [P.x, P.x];\n        const P2 = { x: P.x - Cn.x, y: P.y - Cn.y };\n        const [m, c] = this.getEq({ x: 0, y: 0 }, P2);\n        // (22+2)2+22+2(22)\n        const A = (w ** 2 * m ** 2 + h ** 2);\n        const B = 2 * w ** 2 * m * c;\n        const C = w ** 2 * (c ** 2 - h ** 2);\n        const D = B ** 2 - 4 * A * C;\n        const x1 = (-B + D ** 0.5) / (2 * A) + Cn.x;\n        const x2 = (-B - D ** 0.5) / (2 * A) + Cn.x;\n        return [x1, x2];\n    },\n    getY1Y2(C, P, w, h, x1, x2) {\n        if (x1 === x2) return [C.y + h, C.y - h];\n        const [m, c] = this.getEq(C, P);\n        return [m * x1 + c, m * x2 + c];\n    },\n    dist(A, B) {\n        return ((A.x - B.x) ** 2 + (A.y - B.y) ** 2) ** 0.5;\n    },\n    getClosestEllipse(C, P, w, h) {\n        const [x1, x2] = this.getX1X2(C, P, w, h);\n        const [y1, y2] = this.getY1Y2(C, P, w, h, x1, x2);\n        const [d1, d2] = [this.dist(P, { x: x1, y: y1 }), this.dist(P, { x: x2, y: y2 })];\n        if (d1 < d2) return { x: x1, y: y1 };\n        return { x: x2, y: y2 };\n    },\n    slope(x1, y1, x2, y2) {\n        return (x1 - x2) / (y1 - y2);\n    },\n\n    setSubQ(C, P, w, h) {\n        const [S1, S2] = [[C.x + w, C.y + h], [C.x + w, C.y - h]]\n            .map(([x, y]) => ((C.x - x) * (P.y - y) - (C.y - y) * (P.x - x)) > 0);\n        if (S1 && !S2) return 0;\n        if (!S1 && !S2) return 1;\n        if (!S1 && S2) return 2;\n        if (S1 && S2) return 3;\n        return -1;\n    },\n\n    getClosestRect(C, P, w, h) {\n        const [m, c] = this.getEq(P, C);\n        let D = [\n            [C.x + w, C.y],\n            [C.x, C.y + h],\n            [C.x - w, C.y],\n            [C.x, C.y - h],\n        ];\n        if (Math.abs(m) !== Infinity) {\n            D = [ // To point toward center\n                [C.x + w, m * (C.x + w) + c],\n                [(C.y + h - c) / m, C.y + h],\n                [C.x - w, m * (C.x - w) + c],\n                [(C.y - h - c) / m, C.y - h],\n            ];\n        }\n        const [x, y] = D[this.setSubQ(C, P, w, h)];\n        return { x, y };\n    },\n    get(C, P, w, h, type) {\n        if (type === 'rectangle') return boundaryPoint.getClosestRect(C, P, w, h);\n        return boundaryPoint.getClosestEllipse(C, P, w, h);\n    },\n\n};\n\nexport default boundaryPoint.get;\n","import CoreGraph from './graph-core';\nimport { actionType as T } from '../reducer';\nimport getBoundaryPoint from './calculations/boundary-point';\nimport GA from './graph-actions';\n\nclass TailoredGraph extends CoreGraph {\n    registerEvents() {\n        super.registerEvents();\n        this.cy.on('drag data moved', 'node[type=\"ordin\"]', (evt) => {\n            evt.target.connectedEdges().connectedNodes('node[type=\"special\"]').forEach((juncNode) => {\n                juncNode.position(TailoredGraph.calJuncNodePos(juncNode));\n            });\n        });\n        this.cy.on('bending', (evt) => {\n            const juncNode = evt.target.source();\n            juncNode.position(TailoredGraph.calJuncNodePos(juncNode));\n        });\n    }\n\n    static calJuncNodePos(juncNode) {\n        const parNode = juncNode.incomers('node')[0];\n        const meanNbrPosition = { x: 0, y: 0 };\n        const setOfPos = new Set();\n        juncNode.outgoers('edge[type=\"ordin\"]')\n            .forEach((edge) => setOfPos.add(JSON.stringify(TailoredGraph.getBendEdgePoint(edge))));\n        setOfPos.forEach((posStr) => {\n            const pos = JSON.parse(posStr);\n            meanNbrPosition.x += pos.x;\n            meanNbrPosition.y += pos.y;\n        });\n        if (setOfPos.size === 0) return juncNode.position();\n        meanNbrPosition.x /= setOfPos.size;\n        meanNbrPosition.y /= setOfPos.size;\n        return getBoundaryPoint(\n            parNode.position(), meanNbrPosition,\n            parNode.data('style').width / 2,\n            parNode.data('style').height / 2,\n            parNode.data('style').shape,\n        );\n    }\n\n    getRealNode(juncNodeId) {\n        return this.getById(juncNodeId).incomers().filter('node')[0];\n    }\n\n    addAutoMove(juncNode) {\n        juncNode.unselectify();\n        return this;\n    }\n\n    addEdgeWithJuncNode(edgeData, tid) {\n        const juncNode = this.getById(edgeData.sourceID);\n        const ed = super.addEdge({\n            ...edgeData,\n            label: juncNode.data('edgeLabel'),\n            style: juncNode.data('edgeStyle'),\n        }, tid);\n        juncNode.position(TailoredGraph.calJuncNodePos(juncNode));\n        return ed;\n    }\n\n    addEdgeWithoutJuncNode(edgeData, tid) {\n        const { sourceID, targetID, style } = edgeData;\n        const [sourceNode, targetNode] = [sourceID, targetID].map(this.getById.bind(this));\n        const sourceNodeStyle = sourceNode.data('style');\n        const juncNodePos = getBoundaryPoint(\n            sourceNode.position(),\n            targetNode.position(),\n            sourceNodeStyle.width / 2,\n            sourceNodeStyle.height / 2,\n            sourceNodeStyle.shape,\n        );\n        const juncNode = super.addNode('', { backgroundColor: style.backgroundColor },\n            'special', juncNodePos, { edgeLabel: edgeData.label, edgeStyle: style }, undefined, tid);\n        juncNode.ungrabify();\n        super.addEdge({\n            sourceID,\n            targetID: juncNode.id(),\n            style: {\n                ...style,\n                'target-arrow-shape': 'none',\n            },\n            type: 'special',\n        }, tid);\n        this.addAutoMove(juncNode, sourceNode);\n        return this.addEdgeWithJuncNode({ ...edgeData, sourceID: juncNode.id() }, tid);\n    }\n\n    addEdgeAction(id, edgeData, tid) {\n        this.addAction(\n            { actionName: GA.DEL_EDGE, parameters: [id] },\n            {\n                actionName: GA.ADD_EDGE,\n                parameters: [{ ...edgeData, sourceID: this.getRealSourceId(edgeData.sourceID), id }],\n            },\n            tid,\n        );\n    }\n\n    addEdge(edgeData, tidd = this.getTid()) {\n        const tid = 0;\n        const { sourceID, targetID, label } = edgeData;\n        const [sourceNode, targetNode] = [sourceID, targetID].map(this.getById.bind(this));\n        const juncNodes = sourceNode.outgoers('node').filter((node) => label && node.data('edgeLabel') === label);\n\n        let edge;\n        if (targetNode.data('type') !== 'ordin') return edge; // Don't Add Node\n        if (sourceNode.data('type') === 'special') edge = this.addEdgeWithJuncNode(edgeData, tid);\n        else if (juncNodes.length) edge = this.addEdgeWithJuncNode({ ...edgeData, sourceID: juncNodes[0].id() }, tid);\n        else if (label && label.length) edge = this.addEdgeWithoutJuncNode(edgeData, tid);\n        else {\n            this.dispatcher({\n                type: T.Model_Open_Create_Edge,\n                cb: (edgeLabel, edgeStyle) => {\n                    const message = this.validiateEdge(edgeLabel, edgeStyle, sourceID, targetID, null, 'New');\n                    if (message.ok) edge = this.addEdge({ ...edgeData, label: edgeLabel, style: edgeStyle }, tid);\n                    if (edge) this.addEdgeAction(edge.id(), { ...edgeData, label: edgeLabel, style: edgeStyle }, tidd);\n                    return message;\n                },\n            });\n        }\n        if (edge) this.addEdgeAction(edge.id(), edgeData, tidd);\n        return edge;\n    }\n\n    updateEdge(id, style, label, shouldUpdateLabel, tid = this.getTid()) {\n        this.addAction(\n            {\n                actionName: GA.UPDATE_EDGE,\n                parameters: [id, this.getStyle(id), this.getById(id).data('label'), shouldUpdateLabel],\n            },\n            { actionName: GA.UPDATE_EDGE, parameters: [id, style, label, shouldUpdateLabel] },\n            tid,\n        );\n        const junctionNode = this.getById(id).source();\n        if (shouldUpdateLabel) this.updateData(junctionNode.data('id'), 'edgeLabel', label, 0);\n        this.updateData(junctionNode.data('id'), 'edgeStyle', style, 0);\n        this.updateNode(junctionNode.data('id'), { backgroundColor: style.backgroundColor }, '', false, 0);\n\n        junctionNode\n            .outgoers('edge')\n            .forEach((edge) => super.updateEdge(edge.data('id'), style, label, shouldUpdateLabel, 0));\n    }\n\n    deleteElem(id, tid = this.getTid()) {\n        const el = this.getById(id);\n        if (el.isNode()) {\n            if (el.removed()) return;\n            el.outgoers('node[type=\"special\"]')\n                .connectedEdges('edge[type=\"ordin\"]')\n                .forEach((edge) => this.deleteElem(edge.id(), tid));\n            el.connectedEdges('edge[type=\"ordin\"]')\n                .forEach((edge) => this.deleteElem(edge.id(), tid));\n\n            const node = this.getById(id);\n            this.addAction(\n                {\n                    actionName: GA.ADD_NODE,\n                    parameters: [\n                        node.data('label'), this.getStyle(node.id()), node.data('type'),\n                        node.position(), node.json().data, id,\n                    ],\n                },\n                { actionName: GA.DEL_NODE, parameters: [id] }, tid,\n            );\n            super.deleteNode(id, 0);\n        } else {\n            if (!this.getById(id).length || el.removed()) return;\n            const jsonEd = this.getById(id).json().data;\n            this.addAction(\n                {\n                    actionName: GA.ADD_EDGE,\n                    parameters: [{\n                        ...jsonEd, sourceID: this.getRealSourceId(jsonEd.source), targetID: jsonEd.target,\n                    }],\n                },\n                { actionName: GA.DEL_EDGE, parameters: [id] }, tid,\n            );\n            const junctionNode = el.source();\n            super.deleteEdge(id, 0);\n            if (junctionNode) if (junctionNode.outgoers().length === 0) this.deleteNode(junctionNode.id(), 0);\n        }\n    }\n\n    getRealSourceId(nodeID) {\n        if (this.getById(nodeID).data('type') === 'ordin') return nodeID;\n        if (this.getById(nodeID).incomers('node').length === 0) return nodeID;\n        return this.getById(nodeID).incomers('node')[0].id();\n    }\n\n    getEdgesBetweenNodes(n1, n2) {\n        const [c1, c2] = [n1, n2]\n            .map((n) => this.getById(this.getRealSourceId(n)))\n            .map((r) => r.outgoers('node[type=\"special\"]').union(r));\n        return c1.edgesWith(c2);\n    }\n\n    getNodesEdges() {\n        const nodes = this.cy.$('node[type=\"ordin\"]').map((node) => ({\n            label: node.data('label'),\n            style: node.data('style'),\n            id: node.data('id'),\n        }));\n        const edges = {};\n        this.cy.$('edge[type=\"ordin\"]').forEach((edge) => {\n            const label = edge.data('label');\n            const sourceLabel = this.getById(this.getRealSourceId(edge.source().id())).data('label');\n            const targetLabel = edge.target().data('label');\n            const style = edge.data('style');\n            const id = edge.data('id');\n            if (!edges[label]) {\n                edges[label] = {\n                    targetLabel: [targetLabel], sourceLabel, id, label, style,\n                };\n            } else edges[label].targetLabel.push(targetLabel);\n        });\n        return [nodes, Object.values(edges)];\n    }\n}\n\nexport default TailoredGraph;\n","import TailoredGraphBuilder from './tailored-graph-builder';\n\nexport default TailoredGraphBuilder;\n","import React, { useEffect, useRef, useState } from 'react';\nimport { edgeValidator, nodeValidator } from './config/defaultValidators';\nimport MyGraph from './graph-builder';\nimport { actionType as T } from './reducer';\n\nfunction Graph({\n    el, superState, dispatcher, graphID, serverID, graphML, projectName, graphContainerRef, active, authorName,\n}) {\n    const [instance, setInstance] = useState(null);\n    const ref = useRef();\n    const setContainerDim = (element) => {\n        if (element) {\n            const elToAss = element;\n            elToAss.style.width = `${graphContainerRef.current.offsetWidth - 2}px`;\n            elToAss.style.height = `${graphContainerRef.current.offsetHeight - 2}px`;\n        }\n    };\n\n    const initialiseNewGraph = () => {\n        const myGraph = new MyGraph(\n            graphID, ref.current, dispatcher, superState, projectName, nodeValidator, edgeValidator, authorName,\n        );\n        if (graphID) myGraph.loadGraphFromLocalStorage();\n        if (serverID) {\n            myGraph.set({ serverID });\n            myGraph.forcePullFromServer();\n        }\n        if (graphML) myGraph.setGraphML(graphML);\n        myGraph.setCurStatus();\n        return myGraph;\n    };\n    // Remote server implementation - Not being used.\n    // useEffect(() => {\n    //     if (active && loaded && serverID) {\n    //         window.history.pushState(null, null, path.join(process.env.PUBLIC_URL, 's', serverID));\n    //     } else if (active && loaded && graphID) {\n    //         window.history.pushState(null, null, path.join(process.env.PUBLIC_URL, 'l', graphID));\n    //     }\n    // }, [active, serverID, loaded, graphID]);\n    useEffect(() => instance && instance.set({ superState }), [instance, superState]);\n    useEffect(() => active && instance && instance.setCurStatus(), [active && instance]);\n    useEffect(() => {\n        if (active && instance) dispatcher({ type: T.SET_CUR_INSTANCE, payload: instance });\n    }, [active && instance]);\n\n    useEffect(() => {\n        if (ref.current) {\n            setContainerDim(ref.current);\n            window.addEventListener('resize', () => setContainerDim(ref.current));\n            setInstance(initialiseNewGraph());\n        }\n    }, [ref]);\n\n    const { id } = el;\n\n    return (\n        <div\n            style={{ zIndex: 1, display: active ? 'block' : 'none' }}\n            key={id}\n            className=\"graph-element\"\n            ref={ref}\n        />\n    );\n}\nexport default Graph;\n","const nodeValidator = `(node, nodes, edges) => {\n    var regex = /^[A-za-z0-9]+[:[A-Za-z0-9.]+]|[^$]$/;\n    let message = { ok: true, err: null };\n    if (!regex.test(node.label)) {\n        message = {\n            ok: false,\n            err: 'Node with incorrect label.',\n        }\n        return message;\n    }\n    nodes.forEach((n) => {\n        if (n.id !== node.id && n.label.split(':')[0] === node.label.split(':')[0]) {\n            message = {\n                ok: false,\n                err: 'Node with same label exists.',\n            };\n        }\n    });\n    return message;\n    }`;\nconst edgeValidator = `(edge, nodes, edges) => {\nlet message = { ok: true, err: null };\nlet numEdge = \"\";\nfor (let char of edge.label) {\n    if (!isNaN(parseInt(char))) {\n      numEdge += char;\n    } else if (numEdge !== \"\") {\n      break;\n    }\n}\nedges.forEach((e) => {\n    if (e.label === edge.label && e.sourceLabel !== edge.sourceLabel) {\n        message = {\n            ok: false,\n            err: 'Edge with same label exists.',\n        };\n    }\n    let numE = \"\";\n    for (let char of e.label) {\n        if (!isNaN(parseInt(char))) {\n        numE += char;\n        } else if (numE !== \"\") {\n        break;\n        }\n    }\n    if (numE === numEdge && numE != \"0\" && numE !== \"\") {\n        message = {\n            ok: false,\n            err: '2 edges cannot have same prefixes if they are number',\n        };\n        return message;\n    }\n});\nreturn message;\n}`;\n\n/* eslint-disable max-len */\nconst nodeValidatorFormat = `Takes **\\`node\\`** details under validation, existing **\\`nodes\\`**, existing **\\`edges\\`** and **\\`type\\`**\n\n**Node:** { label: String, style: Object, id: String | undefined },\n**Nodes:** [{ label: String, style: Object, id: String }],\n**Edges:** [{ label: String, sourceLabel: String, targetLabel: String, style: Object, id: String }],\n**Type:** \\`New\\` | \\`Update\\``;\n\nconst edgeValidatorFormat = `Takes **\\`edge\\`** details under validation, existing **\\`nodes\\`** and existing **\\`edges\\`** and **\\`type\\`**\n\n**Edge:** { label: String, sourceLabel: String, targetLabel: String, style: Object, id: String | undefined },\n**Nodes:** [{ label: String, style: Object, id: String }],\n**Edges:** [{ label: String, sourceLabel: String, targetLabel: String, style: Object, id: String }],\n**Type:** \\`New\\` | \\`Update\\``;\n/* eslint-enable max-len */\n\nexport {\n    nodeValidator, edgeValidator, nodeValidatorFormat, edgeValidatorFormat,\n};\n","import React, { useEffect } from 'react';\nimport ZoomComp from './component/ZoomSetter';\n\nimport { actionType as T } from './reducer';\nimport './graphWorkspace.css';\nimport localStorageManager from './graph-builder/local-storage-manager';\nimport TabBar from './component/TabBar';\nimport Graph from './GraphArea';\n\nconst GraphComp = (props) => {\n    const graphContainerRef = React.useRef();\n    const { dispatcher, superState } = props;\n    // const [loadedFromStorage, setLoadedFromStorage] = React.useState(false);\n\n    useEffect(() => {\n        const allSavedGs = localStorageManager.getAllGraphs().map((graphID) => ({\n            graphID,\n        }));\n        dispatcher({\n            type: T.ADD_GRAPH_BULK,\n            payload: allSavedGs,\n        });\n        // setLoadedFromStorage(true);\n    }, []);\n\n    // Remote server implementation - Not being used.\n    // useEffect(() => {\n    //     if (!loadedFromStorage) return;\n    //     const graphFromParams = Object.fromEntries(new URLSearchParams(window.location.search).entries()).g;\n    //     if (graphFromParams) {\n    //         const graphContent = JSON.parse(window.atob(graphFromParams));\n    //         const gid = new Date().getTime().toString();\n    //         localStorageManager.addToFront(gid);\n    //         localStorageManager.save(gid, graphContent);\n    //         window.history.replaceState({}, document.title, window.location.pathname);\n    //         dispatcher({ type: T.ADD_GRAPH, payload: { graphID: gid } });\n    //     }\n    //     const urlParms = window.location.pathname.split('/');\n    //     const serverIDIndex = urlParms.indexOf('s');\n    //     const localIDIndex = urlParms.indexOf('l');\n    //     if (serverIDIndex !== -1 && serverIDIndex + 1 < urlParms.length) {\n    //         const serverID = urlParms[serverIDIndex + 1];\n    //         dispatcher({ type: T.ADD_GRAPH, payload: { serverID } });\n    //     }\n    //     if (localIDIndex !== -1 && localIDIndex + 1 < urlParms.length) {\n    //         const graphID = urlParms[localIDIndex + 1];\n    //         dispatcher({ type: T.ADD_GRAPH, payload: { graphID } });\n    //     }\n    // }, [loadedFromStorage]);\n\n    return (\n        <div\n            style={{\n                flex: 1,\n                flexDirection: 'column',\n                display: 'flex',\n                width: '100%',\n            }}\n        >\n            <TabBar superState={superState} dispatcher={dispatcher} />\n            <div style={{ flex: 1, background: 'white' }} className=\"graph-container\" ref={graphContainerRef}>\n                {superState.graphs.map((el, i) => (\n                    <Graph\n                        el={el}\n                        i={i}\n                        superState={superState}\n                        graphContainerRef={graphContainerRef}\n                        dispatcher={dispatcher}\n                        key={el.graphID}\n                        active={i === superState.curGraphIndex}\n                        graphID={el.graphID}\n                        serverID={el.serverID}\n                        graphML={el.graphML}\n                        projectName={el.projectName}\n                        fileHandle={el.fileHandle}\n                        fileName={el.fileName}\n                        authorName={el.authorName}\n                    />\n                ))}\n                <ZoomComp dispatcher={dispatcher} superState={superState} />\n            </div>\n        </div>\n    );\n};\n\nexport default GraphComp;\n","import React, { useState, useEffect } from 'react';\nimport ReactModal from 'react-modal';\nimport './parent-modal.css';\n\nReactModal.setAppElement('#root');\n\nconst Modal = ({\n    closeModal, ModelOpen, title, children,\n}) => {\n    const [curClass, setCurClass] = useState('');\n    const [isOpen, setIsOpen] = useState(ModelOpen);\n    const [stid, setStid] = useState(null);\n    useEffect(() => {\n        if (ModelOpen === true) {\n            setIsOpen(true);\n            setCurClass('closing');\n            clearTimeout(stid);\n            setStid(setTimeout(() => {\n                setIsOpen(true);\n                setCurClass('');\n            }, 20));\n        } else {\n            setCurClass('closing');\n            clearTimeout(stid);\n            setStid(setTimeout(() => {\n                setIsOpen(false);\n            }, 400));\n        }\n    }, [ModelOpen]);\n\n    if (!isOpen) return '';\n    return (\n        <ReactModal\n            isOpen={isOpen}\n            contentLabel=\"onRequestClose Example\"\n            // onRequestClose={closeModal} // prevent modal from closing when clicked outside\n            className=\"Modal\"\n            overlayClassName={`Overlay ${curClass}`}\n        >\n            <div className={`modal-content ${curClass}`}>\n                <div className=\"modal-header\">\n                    <div className=\"modal-title h4\">{title}</div>\n                    <button type=\"button\" className=\"close\" onClick={closeModal}>\n                        {closeModal ? <span aria-hidden=\"true\"></span> : ''}\n                        <span className=\"sr-only\">Close</span>\n                    </button>\n                </div>\n                <div className=\"modal-body\">\n                    {children}\n                </div>\n            </div>\n        </ReactModal>\n    );\n};\nexport default Modal;\n","import { toast } from 'react-toastify';\nimport React, { useState, useEffect } from 'react';\nimport './graph-comp-details.css';\nimport ParentModal from './ParentModal';\nimport { readTextFile, createFile } from '../../toolbarActions/toolbarFunctions';\nimport { actionType as T } from '../../reducer';\n\nconst ModalComp = ({ closeModal, superState, dispatcher }) => {\n    const [data, setData] = useState({});\n    const [errorMessage, setErrorMessage] = useState('');\n    const [element, setElement] = useState(null);\n    const [editSourceClicked, setEditSourceClicked] = useState(false);\n    const [createSourceClicked, setCreateSourceClicked] = useState(false);\n    const [createHelpClicked, setCreateHelpClicked] = useState(false);\n    const { modalPayload, ModelOpen } = superState;\n    const {\n        cb, title, submitText, Children, defaultStyle, defaultLabel, labelAllowed, type,\n    } = modalPayload;\n\n    useEffect(() => {\n        setErrorMessage('');\n    }, [ModelOpen]);\n\n    useEffect(() => {\n        setData({ label: defaultLabel || '', style: defaultStyle });\n        setErrorMessage('');\n    }, [defaultLabel, defaultStyle]);\n\n    const submit = (e) => {\n        e.preventDefault();\n        const message = cb(data.label, data.style);\n        if (message.ok) {\n            setErrorMessage('');\n            setData({ label: defaultLabel || '', style: defaultStyle });\n            closeModal();\n        } else setErrorMessage(message.err);\n    };\n\n    useEffect(() => {\n        if (createSourceClicked) {\n            createFile(superState, dispatcher);\n        }\n        if (editSourceClicked && element === null) {\n            toast.error('Respective file is not present in same directory');\n        } else if (element !== null) {\n            readTextFile(superState, dispatcher, element.fileObj, element.fileHandle);\n        }\n        setEditSourceClicked(false);\n        setCreateSourceClicked(false);\n    }, [createSourceClicked, editSourceClicked]);\n\n    useEffect(() => {\n        if (createHelpClicked) {\n            createFile(superState, dispatcher);\n        }\n        setCreateHelpClicked(false);\n    }, [createHelpClicked]);\n\n    const openFile = () => {\n        setElement(null);\n        if (superState.fileState !== undefined && data.label !== '') {\n            const fname = data.label.split(':')[1];\n            superState.fileState.forEach((ele) => {\n                if (ele.key.split('/')[1] === fname || ele.key.split('/')[2] === fname) {\n                    setElement(ele);\n                }\n            });\n        }\n        if (submitText === 'Edit Node') {\n            setEditSourceClicked(true);\n        } else if (submitText === 'Create Node') {\n            setCreateSourceClicked(true);\n        }\n    };\n\n    const openDoc = () => {\n        setElement(null);\n        if (superState.fileState !== undefined && data.label !== '') {\n            const docname1 = data.label.split(':')[1].split('.')[0].concat('.md');\n            const docname2 = data.label.split(':')[1].split('.')[0].concat('.txt');\n            superState.fileState.forEach((ele) => {\n                if (ele.key.split('/')[1] === docname1 || ele.key.split('/')[1] === docname2) {\n                    setElement(ele);\n                }\n            });\n        }\n        setCreateHelpClicked(true);\n    };\n\n    const openMarkDownDoc = async () => {\n        dispatcher({ type: T.SET_MARKDOWN_MODAL, payload: true });\n        setElement(null);\n        if (superState.fileState !== undefined && data.label !== '') {\n            const docname1 = data.label.split(':')[1].split('.')[0].concat('.md');\n            const matchingElement = superState.fileState.find((ele) => ele.key.split('/')[1] === docname1);\n            if (matchingElement) {\n                const fr = new FileReader();\n                fr.onload = (x) => {\n                    // eslint-disable-next-line max-len\n                    dispatcher({ type: T.SET_INPUT_FILE, payload: { content: x.target.result, fname: matchingElement.key.split('/')[1] } });\n                };\n                if (matchingElement.fileHandle) {\n                    fr.readAsText(await matchingElement.fileHandle.getFile());\n                } else if (matchingElement.fileObj) {\n                    fr.readAsText(matchingElement.fileObj);\n                }\n                setElement(matchingElement);\n            }\n        }\n    };\n\n    const createLibrary = (e) => {\n        const fileName = data.label.split(':')[1];\n        if (fileName === undefined || fileName === '') {\n            toast.error('Enter File Name');\n            return;\n        }\n        superState.curGraphInstance.library(fileName);\n        submit(e);\n    };\n\n    return (\n        <ParentModal closeModal={closeModal} ModelOpen={ModelOpen} title={title}>\n            <form onSubmit={submit}>\n                <div className=\"modal-content-body\">\n                    <Children data={data} setData={setData} labelAllowed={labelAllowed} state={superState} />\n                    {errorMessage ? <div className=\"err\">{errorMessage}</div> : <></>}\n                </div>\n                <div className=\"modal-footer\">\n                    <button type=\"submit\" className=\"btn btn-primary\">{submitText}</button>\n                    { type === 'Node' ? (\n                        <>\n                            <button\n                                className=\"btn btn-primary\"\n                                type=\"button\"\n                                onClick={openFile}\n                            >\n                                { submitText === 'Edit Node' ? 'Edit Source' : 'Create Source' }\n                            </button>\n                            { title === 'Edit Node'\n                                ? (\n                                    <button\n                                        className=\"btn btn-primary\"\n                                        type=\"button\"\n                                        onClick={openMarkDownDoc}\n                                    >\n                                        Help\n                                    </button>\n                                ) : (\n                                    <button\n                                        className=\"btn btn-primary\"\n                                        type=\"button\"\n                                        onClick={openDoc}\n                                    >\n                                        Create Help\n                                    </button>\n                                )}\n                            { title === 'Edit Node'\n                                ? ''\n                                : (\n                                    <button\n                                        className=\"btn btn-primary\"\n                                        type=\"button\"\n                                        onClick={createLibrary}\n                                    >\n                                        Create Library\n                                    </button>\n                                )}\n                        </>\n                    ) : '' }\n                </div>\n            </form>\n        </ParentModal>\n    );\n};\nexport default ModalComp;\n","/* eslint-disable no-alert */\nimport {\n    FaSave, FaUndo, FaRedo, FaTrash, FaFileImport, FaPlus, FaDownload, FaEdit, FaRegTimesCircle, FaHistory,\n    FaHammer, FaBug, FaBomb, FaToggleOn, FaThermometerEmpty, FaTrashRestore, FaCogs, FaPencilAlt, FaTerminal,\n} from 'react-icons/fa';\n\nimport {\n    // FiChevronDown, FiChevronsDown, FiChevronsUp, FiChevronUp,\n    FiPlay, FiStopCircle, FiToggleLeft, FiTriangle,\n} from 'react-icons/fi';\n\nimport {\n    createNode, editElement, deleteElem, downloadImg, saveAction, saveGraphMLFile,\n    createFile, readFile, clearAll, undo, redo, viewHistory, resetAfterClear,\n    toggleServer, optionModalToggle, toggleLogs, contribute,\n    // openSettingModal,\n} from './toolbarFunctions';\n\nconst toolbarList = (state, dispatcher) => [\n    {\n        type: 'action',\n        text: 'Node',\n        icon: FaPlus,\n        action: createNode,\n        active: state.curGraphInstance,\n        visibility: true,\n        hotkey: 'Ctrl+G',\n    },\n    { type: 'vsep' },\n    {\n        type: 'action',\n        text: 'Create',\n        icon: FaPencilAlt,\n        action: createFile,\n        active: true,\n        visibility: true,\n    },\n    {\n        type: 'file-upload',\n        text: 'Open',\n        icon: FaFileImport,\n        action: readFile,\n        active: true,\n        visibility: true,\n        hotkey: 'Ctrl+O',\n    },\n    {\n        type: 'action',\n        text: 'Save',\n        icon: FaSave,\n        action: saveGraphMLFile,\n        active: state.curGraphInstance,\n        visibility: true,\n    },\n    {\n        type: 'action',\n        text: 'Save As',\n        icon: FaSave,\n        action: (s, d) => saveAction(s, d),\n        active: state.curGraphInstance,\n        visibility: true,\n    },\n    {\n        type: 'action',\n        text: 'Empty',\n        icon: FaThermometerEmpty,\n        action: clearAll,\n        active: state.curGraphInstance && !state.resetEnabled,\n        visibility: true,\n        hotkey: 'Ctrl+Backspace',\n    },\n    {\n        type: 'action',\n        text: 'Restore',\n        icon: FaTrashRestore,\n        action: resetAfterClear,\n        active: state.curGraphInstance && state.resetEnabled,\n        visibility: true,\n        hotkey: 'Ctrl+I',\n    },\n    { type: 'vsep' },\n    {\n        type: 'action',\n        text: 'Undo',\n        icon: FaUndo,\n        action: undo,\n        active: state.undoEnabled && state.curGraphInstance && !state.resetEnabled,\n        visibility: true,\n        hotkey: 'Ctrl+Z',\n    },\n    {\n        type: 'action',\n        text: 'Redo',\n        icon: FaRedo,\n        action: redo,\n        active: state.redoEnabled && state.curGraphInstance && !state.resetEnabled,\n        visibility: true,\n        hotkey: 'Ctrl+Shift+Z,Ctrl+Y',\n    },\n    { type: 'vsep' },\n    {\n        type: 'action',\n        text: 'Edit',\n        icon: FaEdit,\n        action: editElement,\n        active: state.curGraphInstance && state.eleSelected,\n        visibility: true,\n        hotkey: 'Ctrl+E',\n    },\n    {\n        type: 'action',\n        text: 'Delete',\n        icon: FaTrash,\n        action: () => deleteElem(state, dispatcher),\n        active: state.curGraphInstance && state.eleSelected,\n        visibility: true,\n        hotkey: 'Delete,Backspace,Del,Clear',\n    },\n    { type: 'vsep' },\n    {\n        type: 'action',\n        text: 'History',\n        icon: FaHistory,\n        action: viewHistory,\n        active: state.curGraphInstance,\n        visibility: true,\n    },\n    { type: 'vsep' },\n    // server buttons\n    {\n        type: 'action',\n        text: 'Logs',\n        icon: FaTerminal,\n        action: toggleLogs,\n        active: true,\n        visibility: true,\n    },\n    {\n        type: 'action',\n        text: 'Server',\n        icon: state.isWorkflowOnServer ? FaToggleOn : FiToggleLeft,\n        action: () => toggleServer(state, dispatcher),\n        active: state.curGraphInstance,\n        visibility: true,\n    },\n    {\n        type: 'action',\n        text: 'Options',\n        icon: FaCogs,\n        action: () => optionModalToggle(state, dispatcher),\n        active: state.isWorkflowOnServer,\n        visibility: state.isWorkflowOnServer && state.curGraphInstance,\n    },\n    {\n        type: 'action',\n        text: 'Build',\n        icon: FaHammer,\n        action: () => state.curGraphInstance && state.curGraphInstance.build(),\n        active: state.curGraphIndex !== -1\n            ? state.isWorkflowOnServer && state.graphs[state.curGraphIndex].built\n            : state.isWorkflowOnServer,\n        visibility: state.isWorkflowOnServer && state.curGraphInstance,\n    },\n    {\n        type: 'action',\n        text: 'Debug',\n        icon: FaBug,\n        action: () => state.curGraphInstance && state.curGraphInstance.debug(),\n        active: state.curGraphIndex !== -1\n            ? state.isWorkflowOnServer && state.graphs[state.curGraphIndex].debugged\n            : state.isWorkflowOnServer,\n        visibility: state.isWorkflowOnServer && state.curGraphInstance,\n    },\n    {\n        type: 'action',\n        text: 'Run',\n        icon: FiPlay,\n        action: () => state.curGraphInstance && state.curGraphInstance.run(),\n        active: state.curGraphIndex !== -1\n            ? state.isWorkflowOnServer && state.graphs[state.curGraphIndex].ran\n            : state.isWorkflowOnServer,\n        visibility: state.isWorkflowOnServer && state.curGraphInstance,\n    },\n    {\n        type: 'action',\n        text: 'Clear',\n        icon: FaRegTimesCircle,\n        action: () => state.curGraphInstance && state.curGraphInstance.clear(),\n        active: state.curGraphIndex !== -1\n            ? state.isWorkflowOnServer && state.graphs[state.curGraphIndex].cleared\n            : state.isWorkflowOnServer,\n        visibility: state.isWorkflowOnServer && state.curGraphInstance,\n    },\n    {\n        type: 'action',\n        text: 'Stop',\n        icon: FiStopCircle,\n        action: () => state.curGraphInstance && state.curGraphInstance.stop(),\n        active: state.curGraphIndex !== -1\n            ? state.isWorkflowOnServer && state.graphs[state.curGraphIndex].stopped\n            : state.isWorkflowOnServer,\n        visibility: state.isWorkflowOnServer && state.curGraphInstance,\n    },\n    {\n        type: 'action',\n        text: 'Destroy',\n        icon: FaBomb,\n        action: () => state.curGraphInstance && state.curGraphInstance.destroy(),\n        active: state.curGraphIndex !== -1\n            ? state.isWorkflowOnServer && state.graphs[state.curGraphIndex].destroyed\n            : state.isWorkflowOnServer,\n        visibility: state.isWorkflowOnServer && state.curGraphInstance,\n    },\n\n    // Not being implemented in version 1\n    // {\n    //     type: 'action',\n    //     text: 'Push',\n    //     icon: FiChevronUp,\n    //     action: () => state.curGraphInstance && state.curGraphInstance.pushToServer(),\n    //     active: state.curGraphInstance && state.isWorkflowOnServer,\n    // },\n    // {\n    //     type: 'action',\n    //     text: 'Pull',\n    //     icon: FiChevronDown,\n    //     action: () => state.curGraphInstance && state.curGraphInstance.pullFromServer(),\n    //     active: state.curGraphInstance && state.isWorkflowOnServer,\n    // },\n    // {\n    //     type: 'action',\n    //     text: 'Force Push',\n    //     icon: FiChevronsUp,\n    //     action: () => state.curGraphInstance && state.curGraphInstance.forcePushToServer(),\n    //     active: state.curGraphInstance && state.isWorkflowOnServer,\n    // },\n    // {\n    //     type: 'action',\n    //     text: 'Force Pull',\n    //     icon: FiChevronsDown,\n    //     action: () => state.curGraphInstance && state.curGraphInstance.forcePullFromServer(),\n    //     active: state.curGraphInstance && state.isWorkflowOnServer,\n    // },\n    // { type: 'vsep' },\n    { type: 'space' },\n    // Not being implemented in version 1\n    // {\n    //     type: 'action',\n    //     text: 'Settings',\n    //     icon: FaRegSun,\n    //     action: openSettingModal,\n    //     active: true,\n    // },\n    {\n        type: 'action',\n        text: 'Contribute',\n        icon: FiTriangle,\n        action: contribute,\n        active: true,\n        visibility: true,\n    },\n    // {\n    //     type: 'action',\n    //     text: 'Share',\n    //     icon: FaShare,\n    //     action: openShareModal,\n    //     active: true,\n    //     visibility: true,\n    // },\n    {\n        type: state.curGraphInstance ? 'menu' : 'action',\n        text: 'Export',\n        icon: FaDownload,\n        action: (s, d) => [\n            { fn: () => downloadImg(s, d, 'JPG'), name: 'JPG' },\n            { fn: () => downloadImg(s, d, 'PNG'), name: 'PNG' },\n        ],\n        visibility: true,\n        active: state.curGraphInstance,\n    },\n    { type: 'vsep' },\n];\n\nexport default toolbarList;\n","import React from 'react';\nimport Switch from 'rc-switch';\nimport { Menu, MenuItem, MenuButton } from '@szhsin/react-menu';\n\nfunction DropDown({\n    Icon, text, action, active, visibility, tabIndex, hotkey,\n}) {\n    return (\n        <Menu menuButton={(\n            <MenuButton>\n                <ActionButton {...{\n                    Icon, text, action, active, visibility, tabIndex, hotkey,\n                }}\n                />\n            </MenuButton>\n        )}\n        >\n            {action().map(({ fn, name }) => <MenuItem onClick={fn} key={name}>{name}</MenuItem>)}\n        </Menu>\n    );\n}\n\nconst FileUploader = ({\n    Icon, text, active, visibility, tabIndex, hotkey, superState,\n}) => (\n    <ActionButton {...{\n        Icon, text, active, visibility, tabIndex, action: () => superState.fileRef.current.click(), hotkey,\n    }}\n    />\n);\n\nconst Switcher = ({\n    text, action, active, tabIndex,\n}) => (\n    <div\n        role=\"button\"\n        tabIndex={tabIndex}\n        className={`tool ${active ? 'active' : ''}`}\n        onClick={action}\n        onKeyDown={(ev) => ev.key === ' ' && action()}\n    >\n        <Switch\n            onChange={action}\n            checked={active}\n            className=\"react-switch\"\n        />\n        <div>\n            {text}\n        </div>\n    </div>\n);\n\nconst ActionButton = ({\n    Icon, text, action, active, visibility, tabIndex, hotkey,\n}) => (\n    <div\n        role=\"button\"\n        id={`action_${tabIndex}`}\n        tabIndex={tabIndex}\n        className={`tool ${active ? 'active' : ''}`}\n        onClick={() => (active && action())}\n        onKeyDown={(ev) => active && ev.key === ' ' && action()}\n        data-tip={hotkey ? hotkey.split(',')[0] : ''}\n        style={{ display: `${visibility ? '' : 'none'}` }}\n    >\n        <div className=\"icon\"><Icon size=\"20\" /></div>\n        <div style={{ fontSize: 14 }}>{text}</div>\n    </div>\n);\n\nconst TextBox = ({ children }) => (\n    <div className=\"tool\" style={{ width: 'auto' }}>\n        <div className=\"middle tool-text-only\" style={{ fontSize: 16, color: '#888', height: '100%' }}>\n            {children}\n        </div>\n    </div>\n);\n\nconst Vsep = () => <div className=\"Vsep sep\" />;\nconst Hsep = () => <div className=\"hsep sep\" />;\nconst Space = () => <div className=\"space\" />;\n\nexport {\n    ActionButton, Vsep, Hsep, Space, TextBox, Switcher, DropDown, FileUploader,\n};\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React from 'react';\nimport hotkeys from 'hotkeys-js';\nimport toolbarList from '../toolbarActions/toolbarList';\nimport '@szhsin/react-menu/dist/index.css';\nimport './header.css';\nimport {\n    ActionButton, Vsep, Hsep, Space, TextBox, Switcher, DropDown, FileUploader,\n} from './HeaderComps';\nimport 'rc-switch/assets/index.css';\n// import ServerActions from './serverActions/ServerActions';\n\nconst setHotKeys = (actions) => {\n    let keys = '';\n    const map = {};\n    actions.forEach((action, i) => {\n        if (action.hotkey) {\n            action.hotkey.split(',').forEach((key) => {\n                [key, key.replace('Ctrl', 'Command')].forEach((k) => {\n                    keys += `${k},`;\n                    map[k] = document.getElementById(`action_${i + 1}`);\n                });\n            });\n        }\n    });\n    keys = keys.substring(0, keys.length - 1);\n    hotkeys(keys, (event, handler) => {\n        event.preventDefault();\n        map[handler.shortcut].click();\n    });\n};\n\nconst Header = ({ superState, dispatcher }) => {\n    const actions = toolbarList(superState, dispatcher);\n    React.useEffect(() => {\n        setHotKeys(actions, superState, dispatcher);\n    }, []);\n\n    return (\n        <header className=\"header\">\n            <section className=\"middle titlebar\">\n                {\n                    superState.curGraphInstance ? `${\n                        superState.curGraphInstance.projectName\n                    } - concore Editor` : 'untitled'\n                }\n            </section>\n            <section className=\"toolbar\">\n                {\n                    actions.map(({\n                        text, active, visibility, action, icon, type, hotkey,\n                    }, i) => {\n                        const props = {\n                            text,\n                            active,\n                            visibility,\n                            tabIndex: i + 1,\n                            key: text,\n                            action: (e) => action(superState, dispatcher, e),\n                            Icon: icon,\n                            hotkey,\n                        };\n                        switch (type) {\n                        case 'vsep': return <Vsep key={`${`v${i}`}`} />;\n                        case 'space': return <Space key={`${`s${i}`}`} />;\n                        case 'switch': return <Switcher {...props} />;\n                        case 'menu': return <DropDown {...props} />;\n                        case 'file-upload': return <FileUploader {...props} superState={superState} />;\n                        case 'action': return <ActionButton {...props} />;\n                        // case 'serverActions': return <ServerActions superState={superState} />;\n                        default: return <></>;\n                        }\n                    })\n                }\n            </section>\n            <Hsep />\n        </header>\n\n    );\n};\n\nexport {\n    Header, ActionButton, Vsep, Hsep, Space, TextBox,\n};\n","import React, { useEffect, useState, useCallback } from 'react';\nimport Modal from './ParentModal';\nimport './project-details.css';\nimport { actionType as T } from '../../reducer';\nimport localStorageManager from '../../graph-builder/local-storage-manager';\n\nconst ProjectDetails = ({ superState, dispatcher }) => {\n    const curGraph = superState.graphs[superState.curGraphIndex];\n    const [projectName, setProjectName] = useState('Untitled');\n    const [authorName, setAuthorName] = useState('Default');\n    // const [serverID, setServerID] = useState('');\n    const inputRef = useCallback((node) => node && node.focus(), []);\n    const { newGraphModal } = superState;\n    const editDetailsModal = superState.editDetailsModal || (curGraph && !curGraph.projectName);\n\n    useEffect(() => {\n        if (superState.editDetailsModal && curGraph) {\n            setProjectName(curGraph.projectName);\n            setAuthorName(curGraph.authorName);\n        } else {\n            setProjectName('');\n        }\n    }, [curGraph?.authorName, superState.editDetailsModal, curGraph]);\n\n    useEffect(() => {\n        if (curGraph?.authorName) {\n            setAuthorName(curGraph.authorName);\n        } else {\n            const authorNameE = localStorageManager.getAuthorName();\n            setAuthorName(authorNameE);\n        }\n    }, []);\n\n    const submit = (e) => {\n        e.preventDefault();\n        if (newGraphModal) dispatcher({ type: T.ADD_GRAPH, payload: { projectName, authorName } });\n        else if (editDetailsModal) {\n            superState.curGraphInstance.setProjectName(projectName);\n            superState.curGraphInstance.setProjectAuthor(authorName);\n            dispatcher({ type: T.SET_EDIT_DETAILS_MODAL, payload: false });\n        }\n        localStorageManager.saveAllgs();\n        localStorageManager.setAuthorName(authorName);\n    };\n\n    const openExisting = () => {\n        superState.fileRef.current.click();\n    };\n\n    const closeModal = () => {\n        if (superState.newGraphModal) dispatcher({ type: T.SET_NEW_GRAPH_MODAL, payload: false });\n        else if (superState.editDetailsModal) dispatcher({ type: T.SET_EDIT_DETAILS_MODAL, payload: false });\n    };\n    // const loadFromServer = () => {\n    //     dispatcher({ type: T.ADD_GRAPH, payload: { serverID } });\n    // };\n    const NewWorkflow = () => (\n        <>\n            {/* <div className=\"divider\" />\n            <input\n                placeholder=\"Enter the Server ID of Workflow\"\n                value={serverID}\n                onChange={(e) => setServerID(e.target.value)}\n                className=\"serverIDText\"\n            />\n            <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                onClick={loadFromServer}\n            >\n                Load From Server\n\n            </button> */}\n            <div className=\"divider\" />\n            <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                onClick={openExisting}\n            >\n                Open Existing From GraphML File\n\n            </button>\n        </>\n    );\n\n    return (\n        <Modal\n            ModelOpen={newGraphModal || editDetailsModal}\n            closeModal={superState.editDetailsModal || superState.newGraphModal ? closeModal : null}\n            title=\"Project Details\"\n        >\n            <form className=\"proj-details\" onSubmit={submit}>\n                <span>Workflow Name</span>\n                <input\n                    ref={inputRef}\n                    placeholder=\"Title of workflow\"\n                    required\n                    value={projectName}\n                    onChange={(e) => setProjectName(e.target.value)}\n                />\n                <span>Author</span>\n                <input\n                    placeholder=\"Author of workflow\"\n                    value={authorName}\n                    onChange={(e) => setAuthorName(e.target.value)}\n                    required\n                />\n                <div className=\"expand\">\n                    <button type=\"submit\" className=\"btn btn-primary\">Save</button>\n                </div>\n                <div className=\"expand\">\n                    {newGraphModal && <NewWorkflow />}\n                </div>\n            </form>\n        </Modal>\n    );\n};\n\nexport default ProjectDetails;\n","import React, { useEffect, useState } from 'react';\nimport Modal from './ParentModal';\nimport './shareModal.css';\nimport { actionType as T } from '../../reducer';\n\nconst ShareModal = ({ superState, dispatcher }) => {\n    const [serializedGraph, setSerializedGraph] = useState('');\n    const [copyText, setCopyText] = useState('Copy');\n    const cond = superState.shareModal && superState.curGraphInstance;\n    useEffect(() => {\n        if (cond) {\n            setSerializedGraph(superState.curGraphInstance.serializeGraph());\n            setCopyText('Copy');\n        }\n    }, [cond]);\n\n    const closeModal = () => {\n        dispatcher({ type: T.SET_SHARE_MODAL, payload: false });\n    };\n    const link = `${window.location.protocol}//${window.location.host}${window.location.pathname}?g=${serializedGraph}`;\n    const copy = () => {\n        navigator.clipboard.writeText(link).then(() => {\n            setCopyText('Copied!');\n            document.getElementsByClassName('preDiv')[0].focus();\n            document.getElementsByClassName('preDiv')[0].select();\n        });\n    };\n\n    return (\n        <Modal\n            ModelOpen={superState.shareModal}\n            title=\"Shareable Link\"\n            closeModal={closeModal}\n        >\n            <div className=\"share-modal\">\n                <input readOnly className=\"preDiv\" value={link} />\n                <button onClick={copy} type=\"button\" className=\"copyBtn\">{copyText}</button>\n            </div>\n\n        </Modal>\n    );\n};\n\nexport default ShareModal;\n","import React from 'react';\nimport './codeEdit.css';\n\nconst CodeEdit = ({\n    pre, post, value, onChange, height, docString,\n}) => {\n    const inputRef = React.createRef();\n    const parseMD = (s) => s.split('**').map((e, i) => {\n        if (i % 2) return <span key={e}><b>{e}</b></span>;\n        return <span key={e}>{e}</span>;\n    });\n    return (\n        <div\n            className=\"textField\"\n            onClick={() => inputRef.current.focus()}\n            onKeyDown={() => inputRef.current.focus()}\n            role=\"textbox\"\n            tabIndex={0}\n        >\n            {docString\n                ? (\n                    <div className=\"docStr\">\n                        {parseMD(docString)}\n                    </div>\n                ) : <div />}\n            <br />\n            {pre\n                ? (\n                    <textarea\n                        className=\"preTextField\"\n                        value={pre}\n                        readOnly\n                        spellCheck=\"false\"\n                    />\n                ) : <div />}\n            <textarea\n                className=\"mainTextField\"\n                spellCheck=\"false\"\n                {...{ value, onChange }}\n                data-gramm_editor=\"false\"\n                style={{ height, width: '90vw' }}\n                ref={inputRef}\n            />\n            {post\n                ? (\n                    <textarea\n                        className=\"postTextField\"\n                        readOnly\n                        value={post}\n                        spellCheck=\"false\"\n                    />\n                ) : <div />}\n        </div>\n    );\n};\n\nexport default CodeEdit;\n","import React, { useState, useEffect } from 'react';\nimport Modal from './ParentModal';\nimport './settings.css';\nimport { actionType as T } from '../../reducer';\nimport CodeEdit from '../CodeEdit';\nimport { nodeValidatorFormat, edgeValidatorFormat } from '../../config/defaultValidators';\n\nconst SettingsModal = ({ superState, dispatcher }) => {\n    const [nodeValidator, setNodeValidator] = useState('');\n    const [edgeValidator, setEdgeValidator] = useState('');\n    const [errorMessage, setErrorMessage] = useState('');\n    useEffect(() => {\n        if (superState.curGraphInstance) {\n            setNodeValidator(superState.curGraphInstance.getNodeValidator());\n            setEdgeValidator(superState.curGraphInstance.getEdgeValidator());\n        }\n    }, [superState.curGraphInstance]);\n\n    const close = () => dispatcher({ type: T.SET_SETTING_MODAL, payload: false });\n    const submit = () => {\n        try {\n            superState.curGraphInstance.setEdgeNodeValidator({\n                nodeValidator: `(node, nodes, edges, type)=>{${nodeValidator}}`,\n                edgeValidator: `(edge, nodes, edges, type)=>{${edgeValidator}}`,\n            });\n            dispatcher({ type: T.SET_SETTING_MODAL, payload: false });\n            setErrorMessage('');\n        } catch (e) {\n            setErrorMessage(e.message);\n        }\n    };\n\n    return (\n        <Modal\n            ModelOpen={superState.settingsModal}\n            closeModal={close}\n            title=\"Settings\"\n        >\n            <div className=\"setting-container\">\n                <div>\n                    <h3>Node Validator</h3>\n                    <CodeEdit\n                        pre=\"function validateNode(node, nodes, edges, type) {\"\n                        post=\"}\"\n                        value={nodeValidator}\n                        onChange={(e) => setNodeValidator(e.target.value)}\n                        height={200}\n                        docString={nodeValidatorFormat}\n                    />\n                </div>\n                <div>\n                    <h3>Edge  Validator</h3>\n                    <CodeEdit\n                        pre=\"function validateEdge(edge, nodes, edges, type) {\"\n                        post=\"}\"\n                        value={edgeValidator}\n                        onChange={(e) => setEdgeValidator(e.target.value)}\n                        height={200}\n                        docString={edgeValidatorFormat}\n                    />\n                </div>\n                <div className=\"error\">{errorMessage}</div>\n\n                <div className=\"footer\">\n                    <button type=\"submit\" className=\"btn btn-primary\" onClick={submit}>Save</button>\n                </div>\n            </div>\n        </Modal>\n    );\n};\n\nexport default SettingsModal;\n","import React, { useEffect } from 'react';\nimport { FaFileImport } from 'react-icons/fa';\nimport './file-drag-drop.css';\nimport { actionType as T } from '../reducer';\nimport { readFile } from '../toolbarActions/toolbarFunctions';\n\nconst app = ({ superState, dispatcher }) => {\n    const fileRef = React.useRef();\n\n    useEffect(() => {\n        dispatcher({ type: T.SET_FILE_REF, payload: fileRef });\n        const p = document.getElementsByTagName('body')[0];\n        const c = document.getElementsByClassName('drag-drop-area')[0];\n        let cc = 0;\n        p.addEventListener('dragenter', (e) => {\n            e.preventDefault();\n            cc += 1;\n            if (cc === 1) c.classList.remove('hidden');\n        });\n        p.addEventListener('dragleave', (e) => {\n            e.preventDefault();\n            cc -= 1;\n            if (cc === 0) c.classList.add('hidden');\n        });\n\n        p.addEventListener('dragover', (e) => {\n            e.preventDefault();\n        });\n        ['dragend', 'dragexit', 'drop'].forEach((dragEvent) => {\n            p.addEventListener(dragEvent, (e) => {\n                e.preventDefault();\n                cc = 0;\n                c.classList.add('hidden');\n            });\n        });\n\n        p.addEventListener('drop', (e) => {\n            e.preventDefault();\n            fileRef.current.value = null;\n            if (e.dataTransfer.files.length === 1\n                && e.dataTransfer.files[0].name.split('.').slice(-1)[0] === 'graphml') {\n                readFile(superState, dispatcher, e.dataTransfer.files[0]);\n            }\n        });\n    }, []);\n    return (\n        <div className=\"drag-drop-area hidden\">\n            <div className=\"inner\">\n                <FaFileImport size={100} style={{ color: '#1e88e5' }} />\n                <div>\n                    <input\n                        type=\"file\"\n                        ref={fileRef}\n                        onClick={(e) => { e.target.value = null; }}\n                        style={{ display: 'none' }}\n                        accept=\".graphml\"\n                        onChange={(e) => readFile(superState, dispatcher, e)}\n                    />\n                    <span className=\"arrow\">&#10230;</span>\n                    <h1 className=\"text\">Drop the File anywhere to open</h1>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default app;\n","import React, { useEffect, useState } from 'react';\nimport Modal from './ParentModal';\nimport './settings.css';\nimport { actionType as T } from '../../reducer';\nimport GA from '../../graph-builder/graph-actions';\nimport './history.css';\n\nconst HistoryModal = ({ superState, dispatcher }) => {\n    const [curState, setcurState] = useState(0);\n    const [historyList, setHistoryList] = useState([]);\n    const [historyView, setHistoryView] = useState([]);\n    const actions = [\n        GA.ADD_NODE, GA.ADD_EDGE,\n        GA.UPDATE_NODE, GA.UPDATE_EDGE,\n        GA.DEL_NODE, GA.DEL_EDGE,\n        GA.SET_DIM, GA.SET_BENDW, GA.SET_POS,\n    ];\n    const mapActionToTrue = () => {\n        const res = {};\n        actions.forEach((action) => { res[action] = true; });\n        return res;\n    };\n    const [filterAction, setFilterAction] = useState(mapActionToTrue());\n\n    const getLabelFromID = (x) => {\n        if (superState.curGraphInstance) {\n            return superState.curGraphInstance.getLabelFromID(x);\n        }\n        return '';\n    };\n    useEffect(() => {\n        if (superState.curGraphInstance) {\n            setHistoryList([\n                ...superState.curGraphInstance.actionArr\n                    .slice().reverse().map((action, i) => ({ ...action, i })),\n            ]);\n            setcurState(\n                superState.curGraphInstance.actionArr.length\n                - superState.curGraphInstance.curActionIndex,\n            );\n        }\n    }, [superState.viewHistory, superState.graphs, superState.curGraphInstance, curState]);\n\n    const stringifyAction = (equivalent) => {\n        const par = equivalent.parameters;\n        switch (equivalent.actionName) {\n        case GA.ADD_NODE: return `Created new Node: ${par[0]}`;\n        case GA.ADD_EDGE: return `Created new Edge ${\n            getLabelFromID(par[0].id)\n        } between ${getLabelFromID(par[0].sourceID)} and ${getLabelFromID(par[0].targetID)}`;\n        case GA.UPDATE_NODE: return `Updated Label/Style for ${getLabelFromID(par[0])} node`;\n        case GA.UPDATE_EDGE: return `Updated Edge ${getLabelFromID(par[0])}`;\n        case GA.DEL_NODE: return `Deleted Node: ${getLabelFromID(par[0])}`;\n        case GA.DEL_EDGE: return `Deleted Edge: ${getLabelFromID(par[0])}`;\n        case GA.SET_POS: return `Moved node ${getLabelFromID(par[0])} on canvas`;\n        case GA.SET_DIM: return `Changed dimension of node ${getLabelFromID(par[0])}`;\n        case GA.SET_BENDW: return `Modified Bend Point of node ${getLabelFromID(par[0])}`;\n        default: return '';\n        }\n    };\n\n    const stringifyActionType = {\n        [GA.ADD_NODE]: 'NodeAddition:',\n        [GA.ADD_EDGE]: 'EdgeAddition',\n        [GA.UPDATE_NODE]: 'NodeUpdates',\n        [GA.UPDATE_EDGE]: 'EdgeUpdates',\n        [GA.DEL_NODE]: 'NodeDeletion',\n        [GA.DEL_EDGE]: 'EdgeDeletion',\n        [GA.SET_POS]: 'NodePosChange',\n        [GA.SET_DIM]: 'NodeDimensionChange',\n        [GA.SET_BENDW]: 'EdgeBend',\n    };\n\n    const restoreState = (index) => {\n        // eslint-disable-next-line no-alert\n        if (window.confirm('Are you sure to restore the selected state?')) {\n            let tempCurState = curState;\n            while (index > tempCurState) {\n                superState.curGraphInstance.undoSingleAction();\n                tempCurState += 1;\n            }\n            while (index < tempCurState) {\n                superState.curGraphInstance.redoSingleAction();\n                tempCurState -= 1;\n            }\n            setcurState(tempCurState);\n        }\n    };\n    const prefixTid = (tid, str, authorName, index, hash) => {\n        const DT = new Date(parseInt(tid, 10));\n        const date = DT.toLocaleDateString();\n        const time = DT.toLocaleTimeString();\n        const c = (\n            <>\n                <td>\n                    {\n                        index === curState ? '[Current]' : (\n                            <button className=\"a-link\" type=\"button\" onClick={() => restoreState(index)}>\n                                [Restore]\n                            </button>\n                        )\n                    }\n                </td>\n                <td>{`${date}-${time}`}</td>\n                <td>\n                    [\n                    <b>{`${authorName}`}</b>\n                    ]\n                </td>\n                <td style={{ fontWeight: 100 }}>{str}</td>\n                <td style={{ fontWeight: 100 }}>{hash}</td>\n            </>\n        );\n        // if (index === curState) return <u>{c}</u>;\n        return c;\n    };\n\n    const parseAction = ({\n        equivalent, tid, i, authorName, hash,\n    }) => prefixTid(\n        tid, stringifyAction(equivalent), authorName, i, hash,\n    );\n\n    useEffect(() => {\n        setHistoryView(historyList.filter((action) => filterAction[action.equivalent.actionName]).map(parseAction));\n    }, [filterAction, historyList]);\n\n    const close = () => dispatcher({ type: T.SET_HISTORY_MODAL, payload: false });\n    return (\n        <Modal\n            ModelOpen={superState.viewHistory}\n            closeModal={close}\n            title=\"History\"\n        >\n            <div className=\"hist-container\">\n                <fieldset>\n                    <legend>Filters</legend>\n                    {\n                        actions.map((action) => (\n                            <label htmlFor={action} className=\"filter_checkbox\" key={action}>\n                                <input\n                                    type=\"checkbox\"\n                                    name=\"filter\"\n                                    checked={filterAction[action]}\n                                    onChange={() => setFilterAction({\n                                        ...filterAction,\n                                        [action]: !filterAction[action],\n                                    })}\n                                />\n                                {stringifyActionType[action]}\n                            </label>\n                        ))\n                    }\n                </fieldset>\n                <div className=\"hist-list\">\n                    <table style={{ listStyleType: 'circle' }}>\n                        <tbody>\n                            {historyView.map((h, i) => (\n                                <tr\n                                    className={`hist-element ${i === curState ? 'active' : ''}`}\n                                    // eslint-disable-next-line react/no-array-index-key\n                                    key={i}\n                                >\n                                    {h}\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </Modal>\n    );\n};\n\nexport default HistoryModal;\n","/* eslint-disable object-shorthand */\n/* eslint-disable react/destructuring-assignment */\n/* eslint-disable array-callback-return */\n/* eslint-disable no-param-reassign */\n/* eslint-disable react/state-in-constructor */\nimport React, { useEffect, useState } from 'react';\nimport FileBrowser, { FileRenderers, FolderRenderers } from 'react-keyed-file-browser';\nimport { readFile, readTextFile } from '../toolbarActions/toolbarFunctions';\nimport { actionType as T } from '../reducer';\nimport './fileBrowser.css';\n\nconst LocalFileBrowser = ({ superState, dispatcher }) => {\n    const fileRef = React.useRef();\n    const [dirButton, setDirButton] = useState(false);\n    const [fileState, setFileState] = useState([]);\n\n    useEffect(() => {\n        if (navigator.userAgent.indexOf('Edg') !== -1 || navigator.userAgent.indexOf('Chrome') !== -1) {\n            setDirButton(true);\n        }\n        dispatcher({ type: T.SET_FILE_REF, payload: fileRef });\n    }, []);\n\n    useEffect(() => {\n        // TODO - Loading file list from localStorage. Not supported by browsers.\n        // if(window.localStorage.getItem('fileList')) {\n        //     const allFiles = window.localStorage.getItem('fileList');\n        //     setFileState({ files: allFiles });\n        // }\n        window.localStorage.setItem('fileList', JSON.stringify(fileState));\n    }, [fileState]);\n\n    useEffect(() => {\n        setFileState(superState.fileState);\n    }, [superState.fileState]);\n\n    const handleSelectFile = (data) => {\n        const fileExtensions = ['jpeg', 'jpg', 'png', 'exe'];\n        if (fileExtensions.includes(data.fileObj.name.split('.').pop())) {\n            // eslint-disable-next-line no-alert\n            alert('Wrong file extension');\n            return;\n        }\n\n        if (data.fileObj.name.split('.').pop() === 'graphml') {\n            let foundi = -1;\n            superState.graphs.forEach((g, i) => {\n                if ((g.fileName === data.fileObj.name)) {\n                    foundi = i;\n                }\n            });\n            if (foundi !== -1) {\n                dispatcher({ type: T.CHANGE_TAB, payload: foundi });\n            } else {\n                readFile(superState, dispatcher, data.fileObj, data.fileHandle);\n            }\n        } else {\n            readTextFile(superState, dispatcher, data.fileObj, data.fileHandle);\n        }\n    };\n\n    const handleFileInDirs = async (topKey, value) => {\n        let topLevel = topKey;\n        let state = [];\n        // eslint-disable-next-line no-restricted-syntax\n        for await (const [key, valueSubDir] of value.entries()) {\n            if (valueSubDir.kind === 'file') {\n                const fileData = await valueSubDir.getFile();\n                state = state.concat([{\n                    key: `${topKey}/${value.name}/${key}`,\n                    modified: fileData.lastModified,\n                    size: fileData.size,\n                    fileObj: fileData,\n                    fileHandle: valueSubDir,\n                }]);\n            } else if (valueSubDir.kind === 'directory') {\n                topLevel = `${topKey}/${value.name}`;\n                const res = await handleFileInDirs(topLevel, valueSubDir);\n                state = state.concat(res);\n            }\n        }\n        return state;\n    };\n\n    const newFeature = async () => {\n        const dirHandle = await window.showDirectoryPicker();\n        let state = [];\n        // eslint-disable-next-line no-restricted-syntax\n        for await (const [key, value] of dirHandle.entries()) {\n            if (value.kind === 'file') {\n                const fileData = await value.getFile();\n                state = state.concat([{\n                    key: `${dirHandle.name}/${key}`,\n                    modified: fileData.lastModified,\n                    size: fileData.size,\n                    fileObj: fileData,\n                    fileHandle: value,\n                }]);\n            } else if (value.kind === 'directory') {\n                const res = await handleFileInDirs(dirHandle.name, value);\n                state = state.concat(res);\n            }\n        }\n        setFileState([]);\n        setFileState(state);\n        dispatcher({ type: T.SET_DIR_NAME, payload: state[0].key.split('/')[0] });\n        dispatcher({ type: T.SET_FILE_STATE, payload: state });\n    };\n\n    const newFeatureFile = async () => {\n        const pickerOpts = {\n            types: [\n                {\n                    description: 'Graphml',\n                    accept: {\n                        'text/graphml': ['.graphml'],\n                    },\n                },\n            ],\n            excludeAcceptAllOption: true,\n            multiple: false,\n        };\n\n        const [fileHandle] = await window.showOpenFilePicker(pickerOpts);\n        const fileObj = await fileHandle.getFile();\n        readFile(superState, dispatcher, fileObj, fileHandle);\n    };\n\n    return (\n        <div>\n            {!dirButton && (\n                <label\n                    className=\"inputButton\"\n                    htmlFor=\"fileButton\"\n                >\n                    Upload Directory\n                    <input\n                        type=\"file\"\n                        accept=\".py, .m, .c, .cpp, .v, .sh\"\n                        id=\"fileButton\"\n                        style={{ display: 'none' }}\n                        onClick={(e) => { e.target.value = null; }}\n                        onChange={(e) => {\n                            const filesArray = Array.from(e.target.files).map((file) => ({\n                                key: file.webkitRelativePath,\n                                modified: file.lastModified,\n                                size: file.size,\n                                fileObj: file,\n                            }));\n\n                            setFileState(filesArray);\n                            window.localStorage.setItem('fileList', JSON.stringify(filesArray));\n                        }}\n                        webkitdirectory\n                    />\n                </label>\n            )}\n            {dirButton && (\n                <button\n                    type=\"button\"\n                    className=\"inputButton\"\n                    disabled={!dirButton}\n                    onClick={newFeature}\n                >\n                    Upload Directory\n                </button>\n            )}\n            {!dirButton\n                && (\n                    <input\n                        type=\"file\"\n                        ref={fileRef}\n                        onClick={(e) => { e.target.value = null; }}\n                        style={{ display: 'none' }}\n                        accept=\".graphml\"\n                        onChange={(e) => readFile(superState, dispatcher, e.target.files[0])}\n                    />\n                )}\n            {dirButton\n                && (\n                    <button\n                        type=\"button\"\n                        ref={fileRef}\n                        className=\"inputButton\"\n                        disabled={!dirButton}\n                        style={{ display: 'none' }}\n                        onClick={newFeatureFile}\n                        label=\"File Upload\"\n                    />\n                    // <input\n                    //     type=\"file\"\n                    //     ref={fileRef}\n                    //     onClick={(e) => { e.target.value = null; }}\n                    //     style={{ display: 'none' }}\n                    //     accept=\".graphml\"\n                    //     onChange={(e) => readFile(superState, dispatcher, e.target.files[0])}\n                    // />\n                )}\n            <h4>\n                Folder Name :\n                {' '}\n                {fileState[0] ? fileState[0].key.split('/')[0] : ''}\n            </h4>\n            <FileBrowser\n                files={fileState}\n                onSelectFile={handleSelectFile}\n                detailRenderer={() => null}\n                fileRenderer={FileRenderers.TableFile}\n                folderRenderer={FolderRenderers.TableFolder}\n            />\n        </div>\n    );\n};\nexport default LocalFileBrowser;\n","import React, { useState, useEffect } from 'react';\nimport Editor from '@monaco-editor/react';\nimport { saveAs } from 'file-saver';\nimport ReactModal from 'react-modal';\nimport { toast } from 'react-toastify';\nimport Modal from './ParentModal';\nimport './file-edit.css';\nimport { actionType as T } from '../../reducer';\n\nconst FileEditModal = ({ superState, dispatcher }) => {\n    const [codeStuff, setCodeStuff] = useState('');\n    const [fileName, setFileName] = useState('');\n    const [dirButton, setDirButton] = useState(false);\n    const [language, setLanguage] = useState('plaintext');\n    const [newFileName, setNewFileName] = useState('');\n    const [showFilenameModal, setShowFilenameModal] = useState(false);\n\n    useEffect(() => {\n        if (navigator.userAgent.indexOf('Edg') !== -1 || navigator.userAgent.indexOf('Chrome') !== -1) {\n            setDirButton(true);\n        }\n    }, []);\n\n    const close = () => {\n        dispatcher({ type: T.EDIT_TEXTFILE, payload: { show: false } });\n        setCodeStuff('');\n        setFileName('');\n    };\n\n    async function submit() {\n        if (superState.fileHandle) {\n            const stream = await superState.fileHandle.createWritable();\n            await stream.write(codeStuff);\n            await stream.close();\n        } else {\n            toast.warn('Switch to Edge/Chrome!');\n        }\n        dispatcher({ type: T.EDIT_TEXTFILE, payload: { show: false } });\n    }\n\n    async function saveAsSubmit() {\n        const handle = await window.showSaveFilePicker();\n        const stream = await handle.createWritable();\n        await stream.write(codeStuff);\n        await stream.close();\n        const fileData = await handle.getFile();\n        let fS = superState.fileState;\n        fS = fS.concat([{\n            key: `${superState.uploadedDirName}/${handle.name}`,\n            modified: fileData.lastModified,\n            size: fileData.size,\n            fileObj: fileData,\n            fileHandle: handle,\n        }]);\n        dispatcher({ type: T.SET_FILE_STATE, payload: fS });\n    }\n\n    function handleSaveAsClick() {\n        setShowFilenameModal(true);\n    }\n\n    function confirmSaveAs() {\n        if (newFileName.trim() === '') {\n            toast.error('Filename cannot be empty!');\n            return;\n        }\n        const bytes = new TextEncoder().encode(codeStuff);\n        const blob = new Blob([bytes], { type: 'application/json;charset=utf-8' });\n        saveAs(blob, newFileName);\n        setShowFilenameModal(false);\n    }\n\n    useEffect(() => {\n        async function loadFile() {\n            if (superState.fileObj) {\n                setFileName(superState.fileObj.name);\n                const fr = new FileReader();\n                fr.onload = (x) => {\n                    setCodeStuff(x.target.result);\n                };\n                if (superState.fileHandle) fr.readAsText(await superState.fileHandle.getFile());\n                else fr.readAsText(superState.fileObj);\n            }\n        }\n        loadFile();\n    }, [superState.fileObj]);\n\n    useEffect(() => {\n        if (!fileName) return;\n        const fileEx = fileName.split('.').pop();\n        const langMap = {\n            v: 'verilog',\n            c: 'c',\n            h: 'c',\n            hpp: 'cpp',\n            cpp: 'cpp',\n            py: 'python',\n            m: 'matlab',\n            sh: 'bash',\n        };\n        setLanguage(langMap[fileEx] || 'plaintext');\n    }, [fileName]);\n\n    return (\n        <Modal\n            ModelOpen={superState.textFileModal}\n            closeModal={close}\n            title={fileName}\n        >\n            <div>\n                <div className=\"setting-container\">\n                    <Editor\n                        height=\"60vh\"\n                        language={language}\n                        theme=\"vs-light\"\n                        value={codeStuff}\n                        onChange={(value) => setCodeStuff(value)}\n                        options={{\n                            inlineSuggest: true,\n                            fontSize: 16,\n                            formatOnType: true,\n                            autoClosingBrackets: true,\n                            minimap: { enabled: true },\n                        }}\n                    />\n                </div>\n                <div className=\"save-bar\">\n                    {fileName && (\n                        <button type=\"submit\" className=\"btn btn-primary\" onClick={submit}>Save</button>\n                    )}\n                    {dirButton && (\n                        <button type=\"submit\" className=\"btn btn-primary\" onClick={saveAsSubmit}>Save As</button>\n                    )}\n                    {!dirButton && (\n                        <button type=\"submit\" className=\"btn btn-primary\" onClick={handleSaveAsClick}>Save As</button>\n                    )}\n                </div>\n            </div>\n            {/* Filename Input Modal */}\n            <ReactModal\n                isOpen={showFilenameModal}\n                onRequestClose={() => setShowFilenameModal(false)}\n                className=\"modal-content\"\n                overlayClassName=\"modal-overlay\"\n                ariaHideApp={false}\n            >\n                <h2>Enter Filename</h2>\n                <input\n                    type=\"text\"\n                    value={newFileName}\n                    onChange={(e) => setNewFileName(e.target.value)}\n                    className=\"modal-input\"\n                    placeholder=\"Filename\"\n                />\n                <div className=\"modal-actions\">\n                    <button type=\"button\" onClick={confirmSaveAs} className=\"btn btn-primary\">Save</button>\n                    <button\n                        type=\"button\"\n                        onClick={() => setShowFilenameModal(false)}\n                        className=\"btn btn-secondary\"\n                    >\n                        Cancel\n                    </button>\n                </div>\n            </ReactModal>\n        </Modal>\n    );\n};\n\nexport default FileEditModal;\n","import React from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport ParentModal from './ParentModal';\nimport { actionType as T } from '../../reducer';\n\nconst MarkDown = ({ superState, dispatcher }) => {\n    const close = () => {\n        dispatcher({ type: T.SET_MARKDOWN_MODAL, payload: false });\n        dispatcher({ type: T.SET_INPUT_FILE, payload: { inputFile: '', fname: '' } });\n    };\n    return (\n        <ParentModal closeModal={close} ModelOpen={superState.markDownModal} title={superState.inputFileName}>\n            <ReactMarkdown>{superState.inputFile}</ReactMarkdown>\n        </ParentModal>\n    );\n};\n\nexport default MarkDown;\n","import React, { useState } from 'react';\nimport ParentModal from './ParentModal';\nimport { actionType as T } from '../../reducer';\nimport './optionsModal.css';\n\nconst OptionsModal = ({ superState, dispatcher }) => {\n    const [unlock, setUnlock] = useState(false);\n    const [docker, setDocker] = useState(false);\n    const [octave, setOctave] = useState(false);\n    const [param, setParam] = useState('');\n    const [maxT, setmaxT] = useState('');\n    const [library, setLibrary] = useState('');\n    const close = () => {\n        dispatcher({ type: T.SET_OPTIONS_MODAL, payload: false });\n        dispatcher(\n            {\n                type: T.SET_OPTIONS,\n                payload: {\n                    unlock,\n                    docker,\n                    maxT,\n                    param,\n                    octave,\n                    library,\n                },\n            },\n        );\n    };\n\n    const handleDockerChange = () => {\n        setDocker(!docker);\n    };\n    const handleOctaveChange = () => {\n        setOctave(!octave);\n    };\n    const handleUnlockChange = () => {\n        setUnlock(!unlock);\n    };\n    const handleParamsChange = (e) => {\n        setParam(e.target.value);\n    };\n    const handleMaxtimeChange = (e) => {\n        setmaxT(e.target.value);\n    };\n    const handleLibraryChange = (e) => {\n        setLibrary(e.target.value);\n    };\n\n    const Options = 'Options';\n    return (\n        <ParentModal closeModal={close} ModelOpen={superState.optionsModal} title={Options}>\n            <div className=\"main-div\">\n                <label htmlFor=\"Docker\">\n                    Docker\n                    <input type=\"checkbox\" checked={docker} onChange={handleDockerChange} />\n                </label>\n                <label htmlFor=\"Octave\" className=\"main-div-comp\">\n                    Octave\n                    <input type=\"checkbox\" checked={octave} onChange={handleOctaveChange} />\n                </label>\n                <label htmlFor=\"Unlock\" className=\"main-div-comp\">\n                    Unlock\n                    <input type=\"checkbox\" checked={unlock} onChange={handleUnlockChange} />\n                </label>\n                <label htmlFor=\"Maxtime\" className=\"main-div-comp\">\n                    Max Time:&nbsp;\n                    <input\n                        type=\"text\"\n                        value={maxT}\n                        placeholder=\"Enter Maximum Time\"\n                        onChange={(e) => {\n                            handleMaxtimeChange(e);\n                        }}\n                    />\n                </label>\n                <br />\n                <br />\n                <label htmlFor=\"librarypath\">\n                    Library Path:&nbsp;&nbsp;\n                    <input\n                        size=\"59\"\n                        type=\"text\"\n                        value={library}\n                        placeholder=\"Enter library path\"\n                        onChange={(e) => {\n                            handleLibraryChange(e);\n                        }}\n                    />\n                </label>\n\n                <br />\n                <br />\n                <span>Params:</span>\n                <br />\n                <textarea\n                    cols=\"80\"\n                    rows=\"10\"\n                    value={param}\n                    onChange={(e) => {\n                        handleParamsChange(e);\n                    }}\n                />\n            </div>\n        </ParentModal>\n    );\n};\n\nexport default OptionsModal;\n","import React, { useState, useEffect } from 'react';\nimport './logs.css';\nimport { actionType as T } from '../reducer';\n\nconst Logs = ({ superState, dispatcher }) => {\n    const [output, setOutput] = useState('');\n\n    const clearTerminal = () => {\n        setOutput('');\n        dispatcher({ type: T.SET_LOGS_MESSAGE, payload: '' });\n    };\n\n    const closeTerminal = () => {\n        dispatcher({ type: T.SET_LOGS, payload: false });\n    };\n\n    useEffect(() => {\n        if (superState.logs) {\n            document.getElementById('outlay').style.display = 'block';\n            document.getElementById('terminal').style.display = 'block';\n            setOutput(superState.logsmessage);\n        } else {\n            document.getElementById('terminal').style.display = 'none';\n            document.getElementById('outlay').style.display = 'none';\n            setOutput(superState.logsmessage);\n        }\n    }, [superState.logs]);\n\n    return (\n        <>\n            <div className=\"outlay\" id=\"outlay\">\n                <div className=\"terminal\" id=\"terminal\">\n                    <div className=\"terminal-header\">\n                        Logs\n                        <button type=\"button\" className=\"clear\" onClick={clearTerminal}>Clear</button>\n                        <button type=\"button\" className=\"closelogs\" onClick={closeTerminal}>X</button>\n                    </div>\n                    <div className=\"terminal-body\">\n                        {output.split('\\n').map((line) => (\n                            <div className=\"terminal-line\">\n                                {line}\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default Logs;\n","import React, { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport axios from 'axios';\nimport Modal from './ParentModal';\nimport { actionType as T } from '../../reducer';\nimport './contributeDetails.css';\n\nconst ContributeDetails = ({ superState, dispatcher }) => {\n    const closeModal = () => {\n        dispatcher({ type: T.SET_CONTRIBUTE_MODAL, payload: false });\n    };\n    const [study, setStudy] = useState('');\n    const [path, setPath] = useState('');\n    const [auth, setAuth] = useState('');\n    const [title, setTitle] = useState('');\n    const [desc, setDesc] = useState('');\n    const [branch, setBranch] = useState('');\n    const [showAdvanceOptions, setShowAdvanceOptions] = useState(false);\n    const submit = async (e) => {\n        if (study === '' || path === '' || auth === '') {\n            toast.info('Please Provide necessary inputs');\n            return;\n        }\n        const id = toast.loading('Processing your Request.Please wait...');\n        try {\n            e.preventDefault();\n            const result = await axios.post('http://127.0.0.1:5000/contribute', {\n                study,\n                auth,\n                desc,\n                title,\n                path,\n                branch,\n            });\n            toast.success(result.data?.message);\n        } catch (error) {\n            if (error?.response?.status === 400) {\n                toast.info(error?.response?.data?.message);\n            } else {\n                toast.error(error?.response.data.message);\n            }\n        }\n        toast.dismiss(id);\n        closeModal();\n    };\n    const toggleOptions = () => {\n        setShowAdvanceOptions(!showAdvanceOptions);\n    };\n    return (\n        <Modal\n            ModelOpen={superState.contributeModal}\n            title=\"Contribute\"\n            closeModal={closeModal}\n        >\n            <form className=\"contribute-details\">\n                <span>Study Name</span>\n                <input\n                    required\n                    value={study}\n                    onChange={(e) => setStudy(e.target.value)}\n                />\n                <span>Study Path</span>\n                <input\n                    placeholder=\"Enter Full Directory Path of Study\"\n                    value={path}\n                    onChange={(e) => setPath(e.target.value)}\n                    required\n                />\n                <span>Author Name</span>\n                <input\n                    value={auth}\n                    onChange={(e) => setAuth(e.target.value)}\n                    required\n                />\n                {showAdvanceOptions && (\n                    <>\n                        <span>Branch Name</span>\n                        <input\n                            value={branch}\n                            onChange={(e) => setBranch(e.target.value)}\n                        />\n                        <span>Title of Study</span>\n                        <input\n                            value={title}\n                            onChange={(e) => setTitle(e.target.value)}\n                        />\n                        <span>Description of Study</span>\n                        <textarea\n                            value={desc}\n                            onChange={(e) => setDesc(e.target.value)}\n                        />\n                    </>\n                )}\n                <button type=\"button\" className=\"btn btn-secondary\" onClick={toggleOptions}>\n                    {showAdvanceOptions ? 'Hide ' : 'Show '}\n                    Advance Options\n                </button>\n                <div className=\"expand\">\n                    <button type=\"submit\" className=\"btn btn-primary\" onClick={submit}>Generate PR</button>\n                </div>\n            </form>\n        </Modal>\n    );\n};\nexport default ContributeDetails;\n","import React, { useEffect, useReducer } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\nimport ReactTooltip from 'react-tooltip';\nimport GraphWorkspace from './GraphWorkspace';\nimport GraphCompDetails from './component/modals/GraphCompDetails';\nimport { Header } from './component/Header';\nimport { reducer, initialState, actionType as T } from './reducer';\nimport ProjectDetails from './component/modals/ProjectDetails';\nimport ShareModal from './component/modals/ShareModal';\nimport SettingsModal from './component/modals/Settings';\nimport FileDragDrop from './component/File-drag-drop';\nimport HistoryModal from './component/modals/History';\nimport LocalFileBrowser from './component/fileBrowser';\nimport FileEditModal from './component/modals/FileEdit';\nimport MarkDown from './component/modals/markDown';\nimport OptionsModal from './component/modals/OptionsModal';\nimport Logs from './component/Logs';\nimport ContributeDetails from './component/modals/ContributeDetails';\n\nconst app = () => {\n    const [superState, dispatcher] = useReducer(reducer, initialState);\n    useEffect(() => {\n        const handleBeforeUnload = (e) => {\n            e.returnValue = 'Are you sure you want to leave this page?';\n            return 'Are you sure you want to leave this page?';\n        };\n        window.onbeforeunload = handleBeforeUnload;\n        return () => {\n            window.onbeforeunload = null;\n        };\n    }, []);\n    return (\n        <div className=\"container\">\n            <ProjectDetails superState={superState} dispatcher={dispatcher} />\n            <ShareModal superState={superState} dispatcher={dispatcher} />\n            <SettingsModal superState={superState} dispatcher={dispatcher} />\n            <HistoryModal superState={superState} dispatcher={dispatcher} />\n            <ContributeDetails superState={superState} dispatcher={dispatcher} />\n            <FileEditModal superState={superState} dispatcher={dispatcher} />\n            <OptionsModal superState={superState} dispatcher={dispatcher} />\n            <GraphCompDetails\n                closeModal={() => dispatcher({ type: T.Model_Close })}\n                superState={superState}\n                dispatcher={dispatcher}\n            />\n            <Logs superState={superState} dispatcher={dispatcher} />\n            <MarkDown superState={superState} dispatcher={dispatcher} />\n            <FileDragDrop dispatcher={dispatcher} />\n            <Header superState={superState} dispatcher={dispatcher} />\n            <section className=\"body\" style={{ display: 'flex', overflow: 'hidden' }}>\n                <div style={{ display: 'flex', overflow: 'auto' }}>\n                    <LocalFileBrowser superState={superState} dispatcher={dispatcher} />\n                </div>\n                <div className=\"graph\" style={{ display: 'flex', overflow: 'hidden' }}>\n                    <GraphWorkspace dispatcher={dispatcher} superState={superState} />\n                </div>\n            </section>\n            <ReactTooltip place=\"bottom\" type=\"dark\" effect=\"solid\" />\n            <ToastContainer position=\"bottom-left\" autoClose={8000} pauseOnHover={false} />\n        </div>\n    );\n};\n\nexport default app;\n","/* eslint-disable */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = (onPerfEntry) => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(({\n            getCLS, getFID, getFCP, getLCP, getTTFB,\n        }) => {\n            getCLS(onPerfEntry);\n            getFID(onPerfEntry);\n            getFCP(onPerfEntry);\n            getLCP(onPerfEntry);\n            getTTFB(onPerfEntry);\n        });\n    }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.unregister();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","const BendingDistanceWeight = {\n\n    dist: (A, B) => (((A.x - B.x) ** 2 + (A.y - B.y) ** 2) ** 0.5),\n\n    rotate: (P, Q) => ({\n        x: P.x * Math.cos(Q) - P.y * Math.sin(Q),\n        y: P.x * Math.sin(Q) + P.y * Math.cos(Q),\n    }),\n\n    extraRad: (A, B) => (((A.x >= B.x && A.y > B.y) || (A.x >= B.x && A.y < B.y)) ? Math.PI : 0),\n\n    getRadian(tanQ, A, B) {\n        return (Math.atan(tanQ) - this.extraRad(A, B) + 2 * Math.PI) % (2 * Math.PI);\n    },\n\n    getCoordinate(w, d, A, B) {\n        const tanQ = (A.y - B.y) / (A.x - B.x);\n        const Q = this.getRadian(tanQ, A, B);\n        const D = this.dist(A, B) * w;\n        const P = { x: D, y: d };\n        const { x, y } = this.rotate(P, Q);\n        return { x: x + A.x, y: y + A.y };\n    },\n\n    getWeightDistance(p, A, B) {\n        const P = { x: p.x - A.x, y: p.y - A.y };\n        const tanQ = (A.y - B.y) / (A.x - B.x);\n        const Q = this.getRadian(tanQ, A, B);\n        const { x, y } = this.rotate(P, -Q);\n        const d = this.dist(A, B);\n        return { d: y, w: x / d };\n    },\n};\n\nexport default BendingDistanceWeight;\n","const zealit = require('zealit');\n\nconst actionType = {\n    $$typeof: '',\n    Model_Open_Create_Node: 'OpenModal_CreateNode',\n    Model_Open_Create_Edge: 'OpenModal_CreateEdge',\n    Model_Open_Update_Edge: 'OpenModal_UpdateEdge',\n    Model_Open_Update_Node: 'OpenModal_UpdateNode',\n    Model_Close: 'CloseModal',\n    ELE_UNSELECTED: 'ELE_UNSELECTED',\n    ELE_SELECTED: 'ELE_SELECTED',\n    TURN_DRAW: 'TURN_DRAW',\n    SET_ZOOM: 'SET_ZOOM',\n    SET_PROJECT_DETAILS: 'SET_PROJECT_DETAILS',\n    SET_UNDO: 'SET_UNDO',\n    SET_REDO: 'SET_REDO',\n    ADD_GRAPH_INSTANCE: 'ADD_GRAPH_INSTANCE',\n    ADD_GRAPH: 'ADD_GRAPH',\n    ADD_GRAPH_BULK: 'ADD_GRAPH_BULK',\n    CHANGE_TAB: 'CHANGE_TAB',\n    CHANGE_RESET: 'CHANGE_RESET',\n    REMOVE_GRAPH: 'REMOVE_GRAPH',\n    NEW_GRAPH: 'NEW_GRAPH',\n    SET_SHARE_MODAL: 'SET_SHARE_MODAL',\n    SET_SETTING_MODAL: 'SET_SETTING_MODAL',\n    SET_MARKDOWN_MODAL: 'SET_MARKDOWN_MODAL',\n    SET_CONTRIBUTE_MODAL: 'SET_CONTRIBUTE_MODAL',\n    SET_FILE_REF: 'SET_FILE_REF',\n    SET_HISTORY_MODAL: 'SET_HISTORY_MODAL',\n    SET_AUTHOR: 'SET_AUTHOR',\n    IS_WORKFLOW_ON_SERVER: 'IS_WORKFLOW_ON_SERVER',\n    SET_CUR_INSTANCE: 'SET_CUR_INSTANCE',\n    SET_CUR_INDEX: 'SET_CUR_INDEX',\n    SET_ZOOM_LEVEL: 'SET_ZOOM_LEVEL',\n    SET_EDIT_DETAILS_MODAL: 'SET_EDIT_DETAILS_MODAL',\n    SET_NEW_GRAPH_MODAL: 'SET_NEW_GRAPH_MODAL',\n    SET_OPTIONS_MODAL: 'SET_OPTIONS_MODAL',\n    EDIT_TEXTFILE: 'EDIT_TEXTFILE',\n    SET_FILE_HANDLE: 'SET_FILE_HANDLE',\n    SET_DIR_NAME: 'SET_DIR_NAME',\n    SET_FILE_STATE: 'SET_FILE_STATE',\n    SET_INPUT_FILE: 'SET_INPUT_FILE',\n    SET_OPTIONS: 'SET_OPTIONS',\n    SET_FUNCTIONS: 'SET_FUNCTIONS',\n    SET_LOGS: 'SET_LOGS',\n    SET_LOGS_MESSAGE: 'SET_LOGS_MESSAGE',\n};\n\nexport default zealit(actionType);\n","import React, {\n    useCallback, useEffect, useState, createRef,\n} from 'react';\nimport './nodeDetails.css';\n// import ColorBox from './ColorBox';\nimport localStorageManager from '../../graph-builder/local-storage-manager';\n\nconst NodeDetails = ({\n    data, setData, submit, labelAllowed, state,\n}) => {\n    const inputRef = useCallback((node) => node && node.focus(), []);\n    const textRef = createRef();\n    const [widthSet] = useState(false);\n    const [mdList, setMdList] = useState([]);\n    const [mdCont, setMdCont] = useState(new Map(''));\n    const [labelName, setLabelName] = useState('');\n    const [labelFile, setLabelFile] = useState('');\n    const indexOfFile = [];\n    indexOfFile.push(0);\n\n    const setStyle = (prop) => {\n        setData({ ...data, style: { ...data.style, ...prop } });\n    };\n\n    useEffect(() => {\n        const list = mdList;\n        state.fileState.forEach((ele) => {\n            if (ele.key.toString().includes('.md')) {\n                list.push(ele);\n                setMdList(list);\n                let mdmap = new Map();\n                mdmap = mdCont;\n                const fr = new FileReader();\n                fr.onload = (x) => {\n                    const strCont = '   DESC: ';\n                    mdmap.set(ele, strCont.concat(x.target.result.slice(0, 50).replace('#', '')));\n                    setMdCont(mdmap);\n                };\n                fr.readAsText(ele.fileObj);\n            }\n        });\n    }, [state.fileState]);\n\n    useEffect(() => {\n        if (!widthSet) {\n            setStyle({\n                width: Math.max(data.style.width, Math.min(500, textRef.current.offsetWidth + 20)),\n            });\n        }\n    }, [!widthSet && data.label]);\n\n    useEffect(() => {\n        setLabelName(data.label.split(':')[0]);\n    }, [data.label]);\n\n    return (\n        <div className=\"nodeform\" onSubmit={submit}>\n            <div className=\"parent-div\" style={{ height: data.style.height }}>\n                <div\n                    className=\"node-div\"\n                    style={{\n                        ...data.style,\n                        borderRadius: data.style.shape === 'ellipse' ? '100%' : 0,\n                    }}\n                >\n                    <span ref={textRef}>{labelAllowed ? data.label : ''}</span>\n\n                </div>\n            </div>\n            <div className=\"form\" style={{ padding: 20 }}>\n                {/* <div> Shape</div>\n                <div>\n                    <label htmlFor=\"rectangle\">\n                        <input\n                            type=\"radio\"\n                            name=\"shape\"\n                            value=\"rectangle\"\n                            checked={data.style.shape === 'rectangle'}\n                            onChange={() => setStyle({ shape: 'rectangle' })}\n                        />\n                        Rectangle\n                    </label>\n                </div>\n                <div>\n                    <label htmlFor=\"ellipse\">\n                        <input\n                            type=\"radio\"\n                            name=\"shape\"\n                            value=\"ellipse\"\n                            checked={data.style.shape === 'ellipse'}\n                            onChange={() => setStyle({ shape: 'ellipse' })}\n                        />\n                        Ellipse\n                    </label>\n                </div>\n                <div /> */}\n\n                {labelAllowed ? <div> Label</div> : ''}\n                {labelAllowed ? (\n                    <>\n                        <input\n                            className=\"nodeLabel\"\n                            ref={inputRef}\n                            type=\"text\"\n                            required\n                            label=\"Node Label\"\n                            placeholder=\"Enter Node Label\"\n                            value={data.label.split(':')[0]}\n                            onChange={(e) => {\n                                if (e.target.value.slice(-1) !== ':') {\n                                    setLabelName(`${e.target.value}:`);\n                                    setData({ ...data, label: `${e.target.value}:${labelFile}` });\n                                } else {\n                                    setLabelName(e.target.value);\n                                    setData({ ...data, label: e.target.value + labelFile });\n                                }\n                            }}\n                        />\n\n                        <input\n                            className=\"nodeLabelFile\"\n                            type=\"text\"\n                            label=\"Node Label file\"\n                            placeholder=\"Select file\"\n                            value={data.label.split(':')[1]}\n                            onChange={(e) => {\n                                setLabelFile(e.target.value.split('/').pop().split('   DESC: ')[0]);\n                                if (labelName) {\n                                    let lname = labelName;\n                                    if (labelName.slice(-1) !== ':') {\n                                        setLabelName(`${labelName}:`);\n                                        lname += ':';\n                                    }\n                                    setData({\n                                        ...data,\n                                        // eslint-disable-next-line max-len\n                                        label: lname + e.target.value.split('/').pop().split('   DESC: ')[0],\n                                    });\n                                } else {\n                                    setData({\n                                        ...data,\n                                        // eslint-disable-next-line max-len\n                                        label: `:${e.target.value.split('/').pop().split('   DESC: ')[0]}`,\n                                    });\n                                }\n                            }}\n                            list=\"files\"\n                        />\n                        <datalist id=\"files\">\n                            {\n                                localStorageManager.getFileList()\n                                    // eslint-disable-next-line max-len, prefer-arrow-callback\n                                    ? state.fileState\n                                        .map((item) => {\n                                            const list = [];\n                                            const acceptedTypes = ['.v', '.c', '.cpp', '.py', '.m', '.sh'];\n                                            let index;\n                                            if (item.key.toString().includes('.md')) {\n                                                return null;\n                                            }\n                                            if (item.key.toString().split('/').length > 2) {\n                                                return null;\n                                            }\n                                            // eslint-disable-next-line max-len\n                                            if ((acceptedTypes.some((substring) => item.key.toString().includes(substring)))) {\n                                                const fileName = item.key.toString().split('.')[0].concat('.md');\n                                                // eslint-disable-next-line max-len\n                                                const matchingFile = mdList.find((ele) => ele.key.toString() === fileName);\n                                                if (mdCont.get(matchingFile)) {\n                                                    list.push(item.key.toString().concat(mdCont.get(matchingFile)));\n                                                } else {\n                                                    list.push(item.key.toString());\n                                                }\n                                                indexOfFile.push(indexOfFile[indexOfFile.length - 1] + 1);\n                                                index = indexOfFile[indexOfFile.length - 1] + 1;\n                                                /* eslint-disable */\n                                                return (\n                                                    <>\n                                                        <label htmlFor=\"dropdown\">\n                                                            <option value={list} key={index} />\n                                                        </label>\n                                                    </>\n                                                );\n                                                /* eslint-enable */\n                                            }\n                                            return null;\n                                        })\n                                    : ''\n                            }\n                        </datalist>\n                    </>\n                ) : ''}\n                {/* <div> Width</div>\n                <input\n                    type=\"number\"\n                    value={data.style.width}\n                    onChange={(e) => {\n                        setWidthSet(true);\n                        setStyle({\n                            width: Math.min(500, e.target.value),\n                        });\n                    }}\n                /> */}\n\n                {/* <div> Height</div>\n                <input\n                    type=\"number\"\n                    value={data.style.height}\n                    onChange={(e) => setStyle({ height: Math.min(200, e.target.value) })}\n                /> */}\n\n                {/* <div> Background Color</div>\n                <ColorBox\n                    color={data.style.backgroundColor}\n                    setColor={(color) => setStyle({ backgroundColor: color })}\n                    type=\"light\"\n                /> */}\n\n                {/* <div> Border Color</div>\n                <ColorBox\n                    color={data.style.borderColor}\n                    setColor={(color) => setStyle({ borderColor: color })}\n                    type=\"dark\"\n                /> */}\n\n                {/* <div> Border Width</div>\n                <input\n                    type=\"number\"\n                    value={data.style.borderWidth}\n                    onChange={(e) => setStyle({ borderWidth: Math.min(30, e.target.value) })}\n                /> */}\n                {/* <div> Opacity</div>\n                <input\n                    type=\"number\"\n                    step=\".01\"\n                    value={data.style.opacity}\n                    onChange={(e) => setStyle({ opacity: Math.min(1, Math.max(0, e.target.value)) })}\n                /> */}\n            </div>\n        </div>\n    );\n};\n\nexport default NodeDetails;\n","import React, { useCallback } from 'react';\n// import ColorBox from './ColorBox';\nimport './edgeDetails.css';\n\nconst Triangle = ({ size, color }) => {\n    const s = parseInt(size, 10) * 5;\n    const EqTriangle = {\n        borderLeft: `${0.8666 * s}px solid ${color}`,\n        borderBottom: `${s / 2}px solid transparent`,\n        borderTop: `${s / 2}px solid transparent`,\n        marginLeft: -1,\n    };\n    return (\n        <div style={EqTriangle} />\n    );\n};\n\nconst EdgeDetails = ({\n    data, setData, submit, labelAllowed,\n}) => {\n    // const setStyle = (prop) => setData({ ...data, style: { ...data.style, ...prop } });\n    const inputRef = useCallback((node) => node && node.focus(), []);\n    // const RadioBtn = ({ name, shape }) => (\n    //     <label htmlFor=\"ellipse\">\n    //         <input\n    //             type=\"radio\"\n    //             name=\"shape\"\n    //             value={shape}\n    //             checked={data.style.shape === shape}\n    //             onChange={() => setStyle({ shape })}\n    //         />\n    //         {name}\n    //     </label>\n    // );\n\n    return (\n        <div className=\"edgeform\" onSubmit={submit}>\n            <div className=\"par-div\">\n                <div\n                    className=\"edge-div\"\n                    style={{\n                        borderBottomWidth: data.style.thickness,\n                        borderBottomColor: data.style.backgroundColor,\n                        borderBottomStyle: data.style.shape,\n                    }}\n                />\n                <Triangle size={data.style.thickness} color={data.style.backgroundColor} />\n                <div className=\"label\">{data.label}</div>\n            </div>\n            <div className=\"form\">\n                {labelAllowed ? <div> Label</div> : ''}\n                {labelAllowed ? (\n                    <input\n                        ref={inputRef}\n                        className=\"span-rest edgeLabel\"\n                        type=\"text\"\n                        required\n                        label=\"Edge Label\"\n                        value={data.label}\n                        placeholder=\"Enter Edge Label\"\n                        onChange={(e) => setData({ ...data, label: `${e.target.value}` })}\n                    />\n                ) : ''}\n                {/* <div> Shape</div>\n                <div className=\"span-rest hascheckbox\">\n                    <div><RadioBtn name=\"Solid\" shape=\"solid\" /></div>\n                    <div><RadioBtn name=\"Dotted\" shape=\"dotted\" /></div>\n                    <div><RadioBtn name=\"Dashed\" shape=\"dashed\" /></div>\n                </div>\n                <div> Thickness</div>\n                <input\n                    type=\"number\"\n                    value={data.style.thickness}\n                    onChange={(e) => setStyle({ thickness: Math.max(0, Math.min(20, e.target.value)) })}\n                />\n                <div> Background Color</div>\n                <ColorBox\n                    color={data.style.backgroundColor}\n                    setColor={(color) => setStyle({ backgroundColor: color })}\n                    type=\"dark\"\n                /> */}\n            </div>\n        </div>\n    );\n};\n\nexport default EdgeDetails;\n","const NodeStyle = {\n    width: 100,\n    height: 50,\n    shape: 'rectangle',\n    opacity: 1,\n    backgroundColor: '#ffcc00',\n    borderColor: '#000',\n    borderWidth: 1,\n};\n\nconst EdgeStyle = {\n    thickness: 1,\n    backgroundColor: null,\n    shape: 'solid',\n};\n\nexport { NodeStyle, EdgeStyle };\n","const initialState = {\n    ModelOpen: false,\n    modalPayload: {\n        cb: () => {},\n        title: '',\n        submitText: '',\n        Children: '',\n        defaultStyle: {},\n        defaultLabel: '',\n        labelAllowed: null,\n    },\n    shareModal: false,\n    settingsModal: false,\n    editDetailsModal: false,\n    newGraphModal: false,\n    optionsModal: false,\n    markDownModal: false,\n    contributeModal: false,\n    eleSelected: false,\n    drawModeOn: true,\n    undoEnabled: false,\n    redoEnabled: false,\n    graphs: [],\n    curGraphIndex: -1,\n    viewHistory: false,\n    isWorkflowOnServer: false,\n    curGraphInstance: null,\n    zoomLevel: 100,\n    uploadedDirName: null,\n    resetEnabled: false,\n    fileState: [],\n    inputFile: '',\n    params: '',\n    maxTime: '',\n    library: '',\n    dockerCheck: false,\n    unlockCheck: false,\n    octave: false,\n    logs: false,\n    logsmessage: '',\n};\n\nconst initialGraphState = {\n    projectName: '',\n    graphID: null,\n    serverID: null,\n    graphML: null,\n    authorName: '',\n    component: null,\n    instance: null,\n    id: null,\n    fileHandle: null,\n    fileName: null,\n    built: true,\n    debugged: false,\n    ran: false,\n    destroyed: false,\n    cleared: false,\n    stopped: false,\n};\n\nexport { initialState, initialGraphState };\n","import T from './actionType';\nimport NodeDetails from '../component/modals/NodeDetails';\nimport EdgeDetails from '../component/modals/EdgeDetails';\nimport { NodeStyle, EdgeStyle } from '../config/defaultStyles';\nimport { initialGraphState } from './initialState';\n\nconst reducer = (state, action) => {\n    switch (action.type) {\n    case T.Model_Open_Create_Node:\n        return {\n            ...state,\n            ModelOpen: true,\n            modalPayload: {\n                title: 'Create Node',\n                submitText: 'Create Node',\n                type: 'Node',\n                Children: NodeDetails,\n                defaultStyle: NodeStyle,\n                defaultLabel: '',\n                labelAllowed: true,\n                cb: action.cb,\n            },\n        };\n    case T.Model_Open_Create_Edge:\n        return {\n            ...state,\n            ModelOpen: true,\n            modalPayload: {\n                title: 'Create Edge',\n                submitText: 'Create Edge',\n                Children: EdgeDetails,\n                defaultStyle: EdgeStyle,\n                defaultLabel: '',\n                labelAllowed: true,\n                cb: action.cb,\n            },\n        };\n    case T.Model_Open_Update_Node: {\n        return {\n            ...state,\n            ModelOpen: true,\n            modalPayload: {\n                title: 'Edit Node',\n                submitText: 'Edit Node',\n                type: 'Node',\n                Children: NodeDetails,\n                defaultStyle: action.style,\n                defaultLabel: action.label,\n                labelAllowed: action.labelAllowed,\n                cb: action.cb,\n            },\n        };\n    }\n    case T.Model_Open_Update_Edge: {\n        return {\n            ...state,\n            ModelOpen: true,\n            modalPayload: {\n                title: 'Edit Edge',\n                submitText: 'Edit Edge',\n                Children: EdgeDetails,\n                defaultStyle: action.style,\n                defaultLabel: action.label,\n                labelAllowed: action.labelAllowed,\n                cb: action.cb,\n            },\n        };\n    }\n    case T.SET_CONTRIBUTE_MODAL: {\n        return { ...state, contributeModal: action.payload };\n    }\n    case T.Model_Close: return { ...state, ModelOpen: false };\n    case T.ELE_SELECTED: return { ...state, eleSelected: true, eleSelectedPayload: action.payload };\n    case T.ELE_UNSELECTED: return { ...state, eleSelected: false };\n    case T.TURN_DRAW: return { ...state, drawModeOn: action.payload };\n\n    case T.SET_UNDO: return { ...state, undoEnabled: action.payload };\n    case T.SET_REDO: return { ...state, redoEnabled: action.payload };\n\n    case T.ADD_GRAPH: {\n        let foundi = -1;\n        const graphID = action.payload.graphID || new Date().getTime().toString();\n        state.graphs.forEach((g, i) => {\n            if ((g.graphID && g.graphID === graphID) || (g.serverID && g.serverID === action.payload.serverID)) {\n                foundi = i;\n            }\n        });\n        if (foundi !== -1) {\n            return { ...state, newGraphModal: false, curGraphIndex: foundi };\n        }\n        return {\n            ...state,\n            newGraphModal: false,\n            curGraphIndex: state.graphs.length,\n            graphs: [\n                ...state.graphs,\n                {\n                    ...initialGraphState,\n                    projectName: action.payload.projectName,\n                    graphID,\n                    serverID: action.payload.serverID,\n                    graphML: action.payload.graphML,\n                    fileHandle: action.payload.fileHandle || null,\n                    fileName: action.payload.fileName,\n                    authorName: action.payload.authorName || '',\n                },\n            ],\n        };\n    }\n    case T.ADD_GRAPH_BULK: {\n        return { ...state, graphs: [...state.graphs, ...action.payload] };\n    }\n    case T.SET_CUR_INSTANCE: {\n        return { ...state, curGraphInstance: action.payload };\n    }\n    case T.SET_CUR_INDEX: {\n        return { ...state, curGraphIndex: action.payload };\n    }\n    case T.CHANGE_TAB: return { ...state, curGraphIndex: action.payload };\n\n    case T.NEW_GRAPH: return { ...state, newGraphModal: true };\n    case T.REMOVE_GRAPH: return {\n        ...state,\n        graphs: state.graphs.filter((e, i) => i !== action.payload),\n        curGraphIndex: state.curGraphIndex < action.payload\n            ? state.curGraphIndex\n            : Math.max(0, state.curGraphIndex - 1),\n    };\n\n    case T.SET_PROJECT_DETAILS: {\n        const newState = { ...state };\n        newState.graphs = newState.graphs.map((g) => (\n            g.graphID === action.payload.graphID ? { ...g, [action.payload.type]: action.payload.value }\n                : g\n        ));\n        return { ...newState };\n    }\n\n    case T.SET_SHARE_MODAL: {\n        return { ...state, shareModal: action.payload };\n    }\n\n    case T.SET_OPTIONS_MODAL: {\n        return { ...state, optionsModal: action.payload };\n    }\n\n    case T.SET_FILE_STATE: {\n        return { ...state, fileState: action.payload };\n    }\n\n    case T.SET_SETTING_MODAL: {\n        return { ...state, settingsModal: action.payload };\n    }\n\n    case T.SET_MARKDOWN_MODAL: {\n        return { ...state, markDownModal: action.payload };\n    }\n\n    case T.SET_INPUT_FILE: {\n        return { ...state, inputFile: action.payload.content, inputFileName: action.payload.fname };\n    }\n\n    case T.SET_FILE_REF: {\n        return { ...state, fileRef: action.payload };\n    }\n\n    case T.SET_OPTIONS: {\n        return {\n            ...state,\n            dockerCheck: action.payload.docker,\n            unlockCheck: action.payload.unlock,\n            params: action.payload.param,\n            maxTime: action.payload.maxT,\n            octave: action.payload.octave,\n            library: action.payload.library,\n        };\n    }\n\n    case T.SET_FILE_HANDLE: {\n        const newState = { ...state };\n        newState.graphs = newState.graphs.map((g, index) => (\n            index === action.payload.curGraphIndex ? { ...g, fileHandle: action.payload.fileHandle }\n                : g\n        ));\n        return { ...newState };\n    }\n\n    case T.SET_HISTORY_MODAL: {\n        return { ...state, viewHistory: action.payload };\n    }\n\n    case T.SET_AUTHOR: {\n        const newState = { ...state };\n        newState.graphs = newState.graphs.map((g) => (\n            g.graphID === action.payload.graphID ? { ...g, [action.payload.type]: action.payload.value } : g\n        ));\n        return { ...newState };\n    }\n\n    case T.IS_WORKFLOW_ON_SERVER: {\n        return { ...state, isWorkflowOnServer: action.payload };\n    }\n    case T.SET_ZOOM_LEVEL: {\n        return { ...state, zoomLevel: action.payload };\n    }\n    case T.SET_EDIT_DETAILS_MODAL: {\n        return { ...state, editDetailsModal: action.payload };\n    }\n    case T.SET_NEW_GRAPH_MODAL: {\n        return { ...state, newGraphModal: action.payload };\n    }\n    case T.CHANGE_RESET: {\n        return { ...state, resetEnabled: action.payload };\n    }\n    case T.SET_LOGS_MESSAGE: {\n        return { ...state, logsmessage: action.payload };\n    }\n    case T.SET_LOGS: {\n        return { ...state, logs: action.payload };\n    }\n\n    case T.EDIT_TEXTFILE: {\n        return {\n            ...state,\n            textFileModal: action.payload.show,\n            fileObj: action.payload.fileObj,\n            fileHandle: action.payload.fileHandle,\n        };\n    }\n\n    case T.SET_DIR_NAME: {\n        return { ...state, uploadedDirName: action.payload };\n    }\n\n    case T.SET_FUNCTIONS: {\n        const newState = { ...state };\n        newState.graphs[state.curGraphIndex].built = action.payload.built;\n        newState.graphs[state.curGraphIndex].debugged = action.payload.debugged;\n        newState.graphs[state.curGraphIndex].ran = action.payload.ran;\n        newState.graphs[state.curGraphIndex].cleared = action.payload.cleared;\n        newState.graphs[state.curGraphIndex].destroyed = action.payload.destroyed;\n        newState.graphs[state.curGraphIndex].stopped = action.payload.stopped;\n        return { ...newState };\n    }\n\n    default:\n        return state;\n    }\n};\nexport default reducer;\n","import style from './cytoscape-style';\n\nconst options = {\n    style: [...style],\n    zoomingEnabled: true,\n    userZoomingEnabled: true,\n    minZoom: 0.25,\n    maxZoom: 5,\n};\n\nexport default options;\n","const style = [\n    {\n        selector: '*',\n        style: {\n            overlayOpacity: '0',\n        },\n    },\n    {\n        selector: 'node[type = \"ordin\"]',\n        style: {\n            content: 'data(label)',\n            zIndex: 100,\n            width: 'data(style.width)',\n            height: 'data(style.height)',\n            shape: 'data(style.shape)',\n            opacity: 'data(style.opacity)',\n            backgroundColor: 'data(style.backgroundColor)',\n            borderColor: 'data(style.borderColor)',\n            borderWidth: 'data(style.borderWidth)',\n            textValign: 'center',\n            textHalign: 'center',\n        },\n    },\n    {\n        selector: 'node[type=\"special\"]',\n        style: {\n            width: 8,\n            height: 8,\n            backgroundColor: 'data(style.backgroundColor)',\n            zIndex: 1000,\n        },\n    },\n\n    {\n        selector: 'edge',\n        style: {\n            curveStyle: 'bezier',\n            targetArrowShape: 'triangle',\n        },\n    },\n    {\n        selector: 'edge[type = \"ordin\"]',\n        style: {\n            width: 'data(style.thickness)',\n            lineColor: 'data(style.backgroundColor)',\n            targetArrowColor: 'data(style.backgroundColor)',\n            curveStyle: 'segments',\n            segmentDistances: 'data(bendData.bendDistance)',\n            segmentWeights: 'data(bendData.bendWeight)',\n            edgeDistances: 'node-position',\n            lineStyle: 'data(style.shape)',\n        },\n    },\n    {\n        selector: 'edge[label]',\n        style: {\n            label: 'data(label)',\n            edgeTextRotation: 'autorotate',\n            zIndex: 999,\n            textBackgroundOpacity: 1,\n            color: '#000',\n            textBackgroundColor: '#fff',\n            textBackgroundShape: 'roundrectangle',\n            textBorderColor: '#fff',\n            textBorderWidth: 2,\n            textBorderOpacity: 1,\n        },\n    },\n    {\n        selector: '.hidden',\n        style: {\n            display: 'none',\n        },\n    },\n    {\n        selector: '.eh-handle,node[type=\"bend\"]',\n        style: {\n            height: 25,\n            width: 25,\n            opacity: 0.4,\n            borderWidth: 5,\n            borderOpacity: 0.1,\n        },\n    },\n    {\n        selector: 'node[type=\"bend\"]',\n        style: {\n            backgroundColor: '#9575cd',\n        },\n    },\n    {\n        selector: '.eh-handle',\n        style: {\n            backgroundColor: '#f50057',\n        },\n    },\n    {\n        selector: ':selected',\n        style: {\n            overlayColor: '#000',\n            overlayOpacity: 0.1,\n            overlayPadding: 5,\n        },\n    },\n\n];\n\nexport default style;\n"],"sourceRoot":""}